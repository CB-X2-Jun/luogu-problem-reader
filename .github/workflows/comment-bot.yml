name: ğŸ¤– è‡ªåŠ¨å›å¤è¯„è®ºBot

on:
  schedule:
    # æ¯30åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡æ–°è¯„è®º
    - cron: '*/30 * * * *'
  
  workflow_dispatch:
    # æ”¯æŒæ‰‹åŠ¨è§¦å‘
    inputs:
      hours:
        description: 'æ£€æŸ¥æœ€è¿‘å‡ å°æ—¶çš„è¯„è®º'
        required: false
        default: '2'
        type: string

jobs:
  comment-bot:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
    
    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'
    
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip
        pip install requests
    
    - name: Run Comment Bot
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      run: |
        echo "ğŸ¤– å¯åŠ¨è‡ªåŠ¨å›å¤è¯„è®ºBot..."
        python scripts/comment_bot.py
    
    - name: Log Bot Activity
      run: |
        echo "ğŸ“Š Botè¿è¡Œç»Ÿè®¡:"
        echo "- è¿è¡Œæ—¶é—´: $(date)"
        echo "- ä»“åº“: ${{ github.repository }}"
        echo "- è§¦å‘æ–¹å¼: ${{ github.event_name }}"

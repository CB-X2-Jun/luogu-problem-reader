<!doctype html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="LGOJ é¢˜ç›®æµè§ˆç«™ - æ´›è°·é¢˜ç›®è¯¦æƒ…">
    <meta name="author" content="LGOJ Team">
    <link rel="canonical" href="https://lglg.netlify.app/problem/P3417/">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/1336/1336494.png" type="image/png">
    <meta name="generator" content="LGOJ é¢˜ç›®æµè§ˆç«™">
    <title>P3417 P3417 [POI 2005] BANK-Cash Dispenser - LGOJ é¢˜ç›®æµè§ˆç«™</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
      :root {
        --primary-color: #2563eb;
        --primary-dark: #1d4ed8;
        --secondary-color: #10b981;
        --accent-color: #8b5cf6;
        --danger-color: #ef4444;
        --warning-color: #f59e0b;
        --dark-color: #1f2937;
        --light-color: #f9fafb;
        --gray-50: #f9fafb;
        --gray-100: #f3f4f6;
        --gray-200: #e5e7eb;
        --gray-300: #d1d5db;
        --gray-400: #9ca3af;
        --gray-500: #6b7280;
        --gray-600: #4b5563;
        --gray-700: #374151;
        --gray-800: #1f2937;
        --gray-900: #111827;
        --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
        --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        --transition: all 0.2s ease-in-out;
      }
      { --md-text-font: "Roboto"; --md-code-font: "Roboto Mono" }
      
      /* LGOJ é¢˜ç›®é¡µé¢æ ·å¼ */
      body {
        font-family: 'Inter', 'PingFang SC', 'Microsoft YaHei', sans-serif;
        background-color: #fff;
        color: var(--gray-900);
        line-height: 1.6;
        margin: 0;
        padding: 0;
      }
      
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }
      
      /* é¡µé¢å¤´éƒ¨ */
      .lgoj-header {
        background: white;
        border-bottom: 1px solid var(--gray-200);
        padding: 1rem 0;
        position: sticky;
        top: 0;
        z-index: 100;
        box-shadow: var(--shadow-sm);
      }
      
      .lgoj-header .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .lgoj-header .logo {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--primary-color);
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      
      .lgoj-header .logo:hover {
        color: var(--primary-dark);
      }
      
      .lgoj-header nav {
        display: flex;
        gap: 2rem;
      }
      
      .lgoj-header nav a {
        color: var(--gray-700);
        text-decoration: none;
        font-weight: 500;
        transition: var(--transition);
      }
      
      .lgoj-header nav a:hover {
        color: var(--primary-color);
      }
      
      /* ä¸»è¦å†…å®¹åŒºåŸŸ */
      .main-content {
        min-height: calc(100vh - 200px);
        padding: 2rem 0;
      }
      
      .problem-content {
        max-width: 1000px;
        margin: 0 auto;
        background: white;
        padding: 2rem;
        border-radius: 12px;
        box-shadow: var(--shadow);
      }
      
      /* é¡µè„š */
      .lgoj-footer {
        background: var(--gray-50);
        border-top: 1px solid var(--gray-200);
        padding: 2rem 0;
        text-align: center;
        color: var(--gray-600);
      }
      
      /* é¢˜ç›®æ ‡é¢˜ç¾åŒ– */
      .md-content__inner h1 {
        color: var(--gray-900);
        font-size: 2.5rem;
        font-weight: 800;
        margin-bottom: 2rem;
        text-align: center;
        padding: 2rem 0 1rem 0;
        background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        border-bottom: 2px solid var(--gray-200);
      }
      
      /* é¢˜ç›®å†…å®¹åŒºå—ç¾åŒ– */
      .md-content__inner h2 {
        background: var(--gray-50);
        color: var(--gray-900);
        padding: 1rem 1.5rem;
        border-radius: 8px;
        border-left: 4px solid var(--primary-color);
        margin: 2rem 0 1rem 0;
        font-size: 1.3rem;
        box-shadow: var(--shadow);
        font-weight: 600;
      }
      
      /* ä»£ç å—ç¾åŒ– */
      .md-content__inner pre {
        background: var(--gray-50);
        border: 1px solid var(--gray-200);
        border-radius: 8px;
        padding: 1.5rem;
        box-shadow: var(--shadow);
        margin: 1.5rem 0;
        font-family: 'JetBrains Mono', 'Consolas', monospace;
      }
      
      .md-content__inner pre code {
        background: transparent;
        color: var(--gray-800);
        padding: 0;
        border-radius: 0;
        font-weight: 400;
        font-family: 'JetBrains Mono', 'Consolas', monospace;
      }
      
      .md-content__inner code {
        background: var(--gray-100);
        color: var(--gray-800);
        padding: 0.2rem 0.5rem;
        border-radius: 4px;
        font-weight: 500;
        font-family: 'JetBrains Mono', 'Consolas', monospace;
      }
      
      /* æ ·ä¾‹åŒºå—ç‰¹æ®Šç¾åŒ– */
      .md-content__inner h3 {
        background: linear-gradient(135deg, var(--secondary-color), #059669);
        color: white;
        padding: 0.8rem 1.2rem;
        border-radius: 6px;
        margin: 1.5rem 0 0.8rem 0;
        font-size: 1.1rem;
        box-shadow: var(--shadow);
        font-weight: 600;
      }
      
      /* æ™®é€šæ®µè½ç¾åŒ– */
      .md-content__inner p {
        line-height: 1.8;
        margin: 1rem 0;
        color: var(--gray-700);
        font-size: 1rem;
      }
      
      /* åˆ—è¡¨ç¾åŒ– */
      .md-content__inner ul, .md-content__inner ol {
        padding-left: 2rem;
        margin: 1rem 0;
      }
      
      .md-content__inner li {
        margin: 0.5rem 0;
        line-height: 1.7;
        color: var(--gray-600);
      }
      
      /* è¡¨æ ¼ç¾åŒ– */
      .md-content__inner table {
        width: 100%;
        border-collapse: collapse;
        margin: 1.5rem 0;
        box-shadow: var(--shadow);
        border-radius: 8px;
        overflow: hidden;
        border: 1px solid var(--gray-200);
      }
      
      .md-content__inner th {
        background: var(--primary-color);
        color: white;
        padding: 1rem;
        text-align: left;
        font-weight: 600;
      }
      
      .md-content__inner td {
        padding: 0.8rem 1rem;
        border-bottom: 1px solid var(--gray-200);
      }
      
      .md-content__inner tr:nth-child(even) {
        background: var(--gray-50);
      }
      
      /* å¼ºè°ƒæ–‡æœ¬ç¾åŒ– */
      .md-content__inner strong {
        color: var(--gray-900);
        font-weight: 600;
      }
      
      .md-content__inner em {
        color: var(--gray-600);
        font-style: italic;
      }
      
      /* é“¾æ¥ç¾åŒ– */
      .md-content__inner a {
        color: var(--primary-color);
        text-decoration: none;
        border-bottom: 1px solid transparent;
        transition: var(--transition);
      }
      
      .md-content__inner a:hover {
        color: var(--primary-dark);
        border-bottom-color: var(--primary-dark);
      }
      
      /* å¼•ç”¨å—ç¾åŒ– */
      .md-content__inner blockquote {
        border-left: 4px solid var(--warning-color);
        background: #fefbf3;
        padding: 1rem 1.5rem;
        margin: 1.5rem 0;
        border-radius: 0 8px 8px 0;
        color: var(--gray-700);
        font-style: italic;
      }
      
      /* æ°´å¹³åˆ†å‰²çº¿ç¾åŒ– */
      .md-content__inner hr {
        border: none;
        height: 2px;
        background: linear-gradient(90deg, transparent, var(--primary-color), transparent);
        margin: 2rem 0;
      }
      
      /* å¯¼èˆªæ å“ç‰Œæ›´æ–° */
      .md-header__title .md-header__ellipsis .md-ellipsis {
        color: var(--primary-color);
        font-weight: 700;
      }
      
      /* è¿”å›é¦–é¡µæŒ‰é’® */
      .return-home-btn {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 50px;
        text-decoration: none;
        font-weight: 500;
        box-shadow: var(--shadow-lg);
        transition: var(--transition);
        z-index: 1000;
      }
      
      .return-home-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        color: white;
        text-decoration: none;
      }
      
      /* å“åº”å¼è®¾è®¡ */
      @media (max-width: 768px) {
        .md-content__inner {
          padding: 1rem;
        }
        
        .md-content__inner h1 {
          font-size: 2rem;
        }
        
        .md-content__inner h2 {
          font-size: 1.2rem;
          padding: 0.8rem 1rem;
        }
        
        .md-content__inner pre {
          padding: 1rem;
          font-size: 0.9rem;
        }
        
        .lgoj-home-btn {
          position: static;
          margin: 1rem 0;
          width: 100%;
          justify-content: center;
        }
      }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github.min.css">
  </head>
  <body>
    <!-- ç®€æ´çš„é¡µé¢å¤´éƒ¨ -->
    <header class="lgoj-header">
      <div class="container">
        <a href="/" class="logo">
          <i class="fas fa-book"></i>
          LGOJ é¢˜ç›®æµè§ˆç«™
        </a>
        <nav>
          <a href="/">é¦–é¡µ</a>
          <a href="/problem/list">é¢˜åº“</a>
          <a href="/about">å…³äº</a>
        </nav>
      </div>
    </header>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <main class="main-content">
      <div class="container">
        <div class="problem-content">
          <h2 id="_1">é¢˜ç›®æè¿°</h2>
<p>The BBB (short for Byteotian Bit Bank) owns the largest net of cash dispensers in Byteotia. The clients of the BBB can draw their money from the cash dispensers on the basis of a cash card and a 4-digit PIN code. Lately, in order to increase their clients' security, the BBB has had a camera installed by each cash dispenser. The cameras transmit the recorded image to the BBB using radio signals. Unfortunately, the signals are being intercepted by a gang of computer thieves. The thieves attempt to discover the 4-digit PIN codes of the BBB clients, whose cash cards they subsequently steal. Being aware of this fact, the BBB clients try to perform redundant movements over the keyboard while entering the PIN. The camera is not able to pick out the keystrokes, it only records the finger movements. Consequently, it is usually not possible to determine the PIN unambiguously. For instance, the client moving his finger over the key 1 and then over the key 5 could have entered the following PIN codes: 1111, 1115, 1155, 1555, 5555. Desperate thieves glean the camera recordings, counting on being able to determine the PIN of a client or at least limiting the number of possible codes on the basis of multiple recordings of his transactions. Having accumulated sequences entered by a particular wealthy client of the BBB, they made you an "unnegotiable proposition".</p>
<p>TaskWrite a programme which:</p>
<p>reads from the standard input a description of the recorded sequences of finger movements, which the client has performed whilst entering his PIN,determines the number of distinct PIN codes, which the client can have (i.e. the number of those 4-digit PIN codes, which could have been entered by performing the given finger movement sequences),writes the outcome to the standard output.</p>
<p>BBBï¼ˆByteotian Bit Bankçš„ç¼©å†™ï¼‰æ‹¥æœ‰Byteotiaæœ€å¤§çš„è‡ªåŠ¨ææ¬¾æœºç½‘ç»œã€‚ BBBçš„å®¢æˆ·å¯ä»¥æ ¹æ®ç°é‡‘å¡å’Œ4ä½æ•°çš„PINç ä»è‡ªåŠ¨æŸœå‘˜æœºä¸­æå–æ¬¾é¡¹ã€‚æœ€è¿‘ï¼Œä¸ºäº†æé«˜å®¢æˆ·çš„å®‰å…¨æ€§ï¼ŒBBBå·²ç»ç»™æ¯å°è‡ªåŠ¨ææ¬¾æœºå®‰è£…äº†ç›¸æœºã€‚æ‘„åƒæœºä½¿ç”¨æ— çº¿ç”µä¿¡å·å°†è®°å½•çš„å›¾åƒå‘é€åˆ°BBBã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™äº›ä¿¡å·æ­£è¢«ä¸€ç¾¤ç”µè„‘ç›—è´¼æ‹¦æˆªã€‚ç›—è´¼è¯•å›¾å‘ç°BBBç”¨æˆ·çš„4ä½PINç ï¼Œä»–ä»¬éšåçªƒå–äº†ä»–ä»¬çš„ç°é‡‘å¡ã€‚æ„è¯†åˆ°è¿™ä¸€äº‹å®ï¼ŒBBBç”¨æˆ·å°è¯•åœ¨è¾“å…¥PINæ—¶æ‰§è¡Œé”®ç›˜ä¸Šçš„å†—ä½™åŠ¨ä½œã€‚ç›¸æœºåªèƒ½è®°å½•æ‰‹æŒ‡çš„åŠ¨ä½œã€‚å› æ­¤ï¼Œé€šå¸¸ä¸å¯èƒ½æ˜ç¡®åœ°ç¡®å®šPINç ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·å°†æ‰‹æŒ‡ç§»åŠ¨åˆ°é”®1ä¸Šï¼Œç„¶åç§»åŠ¨åˆ°é”®5å¯ä»¥è¾“å…¥ä»¥ä¸‹PINç ï¼š1111,1115,1155,1555,5555ã€‚ç»æœ›çš„ç›—è´¼ä»¬æ”¶é›†ç›¸æœºè®°å½•ï¼Œç°åœ¨ç›—è´¼ä»¬ç»™ä½ ä¸€ä¸ªæ‰‹æŒ‡ç§»åŠ¨åºåˆ—ï¼Œè¦æ±‚ä½ ç¡®å®šç”¨æˆ·å¯ä»¥å…·æœ‰çš„ä¸åŒPINç çš„æ•°é‡ã€‚</p>
<p>å†™ä¸€ä¸ªç¨‹åºï¼š</p>
<p>ä»æ ‡å‡†è¾“å…¥è¯»å–è®°å½•çš„æ‰‹æŒ‡ç§»åŠ¨åºåˆ—çš„æè¿°ï¼Œç”¨æˆ·åœ¨è¾“å…¥PINç æ—¶æ‰§è¡Œçš„æ‰‹æŒ‡ç§»åŠ¨åºåˆ—ï¼Œç¡®å®šå®¢æˆ·ç«¯å¯ä»¥å…·æœ‰çš„ä¸åŒPINç çš„æ•°é‡ï¼ˆå³ï¼Œè¿™äº›4ä½PINç çš„æ•°é‡ï¼Œè¿™å¯ä»¥é€šè¿‡æ‰§è¡Œç»™å®šçš„æ‰‹æŒ‡ç§»åŠ¨é¡ºåºè¿›å…¥ï¼‰ï¼Œå°†ç»“æœå†™å…¥æ ‡å‡†è¾“å‡ºã€‚</p>
<h2 id="_2">è¾“å…¥æ ¼å¼</h2>
<p>The first line of the standard input contains a single integer $n$ denoting the number of recorded scenes depicting the action of entering the PIN by the client, $1\le n\le 1\ 000$. In the following $n$ lines there are descriptions of these scenes, a single one per line. The description of each scene consists of two positive integers separated by a single space. The first of those numbers, $t$, denotes the length of the sequence of movements, $1\le t\le 10\ 000$. The other is a $t$-digit number, whose consecutive digits denote consecutive keys, over which the client has moved his finger. The total length of all sequences does not exceed $1\ 000\ 000$.</p>
<p>æ ‡å‡†è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°nï¼Œè¡¨ç¤ºç”¨æˆ·è¾“å…¥PINçš„åŠ¨ä½œæ•°ï¼Œ$1\le n\le 1\ 000$ã€‚ åœ¨ä»¥ä¸‹nè¡Œä¸­ï¼Œå¯¹è¿™äº›åŠ¨ä½œè¿›è¡Œäº†æè¿°ï¼Œæ¯è¡Œæè¿°ä¸€ä¸ªåŠ¨ä½œã€‚æ¯ä¸ªåŠ¨ä½œçš„æè¿°ç”±ä¸¤ä¸ªç”±å•ä¸ªç©ºæ ¼åˆ†å¼€çš„æ­£æ•´æ•°ç»„æˆã€‚ è¿™äº›æ•°ä¸­çš„ç¬¬ä¸€ä¸ªæ•°å­—tè¡¨ç¤ºè¿åŠ¨åºåˆ—çš„é•¿åº¦ï¼Œ$1\le t\le 10\ 000$ã€‚å¦ä¸€ä¸ªæ˜¯ä¸€ä¸ªtä½çš„æ­£æ•´æ•°ï¼Œå…¶è¿ç»­çš„æ•°å­—è¡¨ç¤ºè¿ç»­çš„é”®ï¼Œè¡¨ç¤ºç”¨æˆ·ç§»åŠ¨ä»–çš„æ‰‹æŒ‡åˆ°çš„ç›®æ ‡ã€‚ä¿è¯$\sum t\le 1\ 000\ 000$ã€‚</p>
<h2 id="_3">è¾“å‡ºæ ¼å¼</h2>
<p>The first and only line of the output should contain a single positive integer - the number of possible PIN codes of the client.</p>
<p>è¾“å‡ºæœ‰ä¸€è¡Œï¼Œåº”åŒ…å«ä¸€ä¸ªæ­£æ•´æ•°ï¼Œç”¨æˆ·å¯èƒ½çš„PINç çš„æ•°é‡ã€‚</p>
<h2 id="_4">è¾“å…¥è¾“å‡ºæ ·ä¾‹</h2>
<h3 id="1">æ ·ä¾‹ #1</h3>
<h4 id="1_1">æ ·ä¾‹è¾“å…¥ #1</h4>
<div class="codehilite"><pre><span></span><code><span class="mf">2</span>
<span class="mf">3</span><span class="w"> </span><span class="mf">123</span>
<span class="mf">3</span><span class="w"> </span><span class="mf">234</span>
</code></pre></div>

<h4 id="1_2">æ ·ä¾‹è¾“å‡º #1</h4>
<div class="codehilite"><pre><span></span><code><span class="mf">5</span>
</code></pre></div>
        </div>
        
        <!-- è¯„è®ºåŒºåŸŸ -->
        <div class="comments-section">
          <div class="comments-title">
            ğŸ’¬ è®¨è®ºäº¤æµ
          </div>
          <script src="https://giscus.app/client.js"
                  data-repo="Eternity-Sky/luogu-problem-reader"
                  data-repo-id="R_kgDOPiP5uw"
                  data-category="Announcements"
                  data-category-id="DIC_kwDOPiP5u84CugHo"
                  data-mapping="url"
                  data-strict="0"
                  data-reactions-enabled="1"
                  data-emit-metadata="0"
                  data-input-position="bottom"
                  data-theme="light"
                  data-lang="zh-CN"
                  crossorigin="anonymous"
                  async>
          </script>
        </div>
      </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="lgoj-footer">
      <div class="container">
        <p>Â© 2024 LGOJ é¢˜ç›®æµè§ˆç«™ | æ´›è°·é¢˜ç›®é™æ€æµè§ˆå¹³å°</p>
      </div>
    </footer>

    <!-- è¿”å›é¦–é¡µæŒ‰é’® -->
    <a href="/" class="return-home-btn">
      <i class="fas fa-home"></i>
      è¿”å›é¦–é¡µ
    </a>

    <!-- JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      if (typeof hljs !== 'undefined') {
        hljs.highlightAll();
      }
    </script>
    <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
    <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false},
            {left: '\\(', right: '\\)', display: false},
            {left: '\\[', right: '\\]', display: true}
          ],
          throwOnError: false
        });
      });
    </script>
  </body>
</html>
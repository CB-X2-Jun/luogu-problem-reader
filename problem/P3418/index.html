<!doctype html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="LGOJ é¢˜ç›®æµè§ˆç«™ - æ´›è°·é¢˜ç›®è¯¦æƒ…">
    <meta name="author" content="LGOJ Team">
    <link rel="canonical" href="https://lglg.netlify.app/problem/P3418/">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/1336/1336494.png" type="image/png">
    <meta name="generator" content="LGOJ é¢˜ç›®æµè§ˆç«™">
    <title>P3418 P3418 [POI 2005] PUN-Points - LGOJ é¢˜ç›®æµè§ˆç«™</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
      :root {
        --primary-color: #2563eb;
        --primary-dark: #1d4ed8;
        --secondary-color: #10b981;
        --accent-color: #8b5cf6;
        --danger-color: #ef4444;
        --warning-color: #f59e0b;
        --dark-color: #1f2937;
        --light-color: #f9fafb;
        --gray-50: #f9fafb;
        --gray-100: #f3f4f6;
        --gray-200: #e5e7eb;
        --gray-300: #d1d5db;
        --gray-400: #9ca3af;
        --gray-500: #6b7280;
        --gray-600: #4b5563;
        --gray-700: #374151;
        --gray-800: #1f2937;
        --gray-900: #111827;
        --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
        --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        --transition: all 0.2s ease-in-out;
      }
      { --md-text-font: "Roboto"; --md-code-font: "Roboto Mono" }
      
      /* LGOJ é¢˜ç›®é¡µé¢æ ·å¼ */
      body {
        font-family: 'Inter', 'PingFang SC', 'Microsoft YaHei', sans-serif;
        background-color: #fff;
        color: var(--gray-900);
        line-height: 1.6;
        margin: 0;
        padding: 0;
      }
      
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }
      
      /* é¡µé¢å¤´éƒ¨ */
      .lgoj-header {
        background: white;
        border-bottom: 1px solid var(--gray-200);
        padding: 1rem 0;
        position: sticky;
        top: 0;
        z-index: 100;
        box-shadow: var(--shadow-sm);
      }
      
      .lgoj-header .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .lgoj-header .logo {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--primary-color);
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      
      .lgoj-header .logo:hover {
        color: var(--primary-dark);
      }
      
      .lgoj-header nav {
        display: flex;
        gap: 2rem;
      }
      
      .lgoj-header nav a {
        color: var(--gray-700);
        text-decoration: none;
        font-weight: 500;
        transition: var(--transition);
      }
      
      .lgoj-header nav a:hover {
        color: var(--primary-color);
      }
      
      /* ä¸»è¦å†…å®¹åŒºåŸŸ */
      .main-content {
        min-height: calc(100vh - 200px);
        padding: 2rem 0;
      }
      
      .problem-content {
        max-width: 1000px;
        margin: 0 auto;
        background: white;
        padding: 2rem;
        border-radius: 12px;
        box-shadow: var(--shadow);
      }
      
      /* é¡µè„š */
      .lgoj-footer {
        background: var(--gray-50);
        border-top: 1px solid var(--gray-200);
        padding: 2rem 0;
        text-align: center;
        color: var(--gray-600);
      }
      
      /* é¢˜ç›®æ ‡é¢˜ç¾åŒ– */
      .md-content__inner h1 {
        color: var(--gray-900);
        font-size: 2.5rem;
        font-weight: 800;
        margin-bottom: 2rem;
        text-align: center;
        padding: 2rem 0 1rem 0;
        background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        border-bottom: 2px solid var(--gray-200);
      }
      
      /* é¢˜ç›®å†…å®¹åŒºå—ç¾åŒ– */
      .md-content__inner h2 {
        background: var(--gray-50);
        color: var(--gray-900);
        padding: 1rem 1.5rem;
        border-radius: 8px;
        border-left: 4px solid var(--primary-color);
        margin: 2rem 0 1rem 0;
        font-size: 1.3rem;
        box-shadow: var(--shadow);
        font-weight: 600;
      }
      
      /* ä»£ç å—ç¾åŒ– */
      .md-content__inner pre {
        background: var(--gray-50);
        border: 1px solid var(--gray-200);
        border-radius: 8px;
        padding: 1.5rem;
        box-shadow: var(--shadow);
        margin: 1.5rem 0;
        font-family: 'JetBrains Mono', 'Consolas', monospace;
      }
      
      .md-content__inner pre code {
        background: transparent;
        color: var(--gray-800);
        padding: 0;
        border-radius: 0;
        font-weight: 400;
        font-family: 'JetBrains Mono', 'Consolas', monospace;
      }
      
      .md-content__inner code {
        background: var(--gray-100);
        color: var(--gray-800);
        padding: 0.2rem 0.5rem;
        border-radius: 4px;
        font-weight: 500;
        font-family: 'JetBrains Mono', 'Consolas', monospace;
      }
      
      /* æ ·ä¾‹åŒºå—ç‰¹æ®Šç¾åŒ– */
      .md-content__inner h3 {
        background: linear-gradient(135deg, var(--secondary-color), #059669);
        color: white;
        padding: 0.8rem 1.2rem;
        border-radius: 6px;
        margin: 1.5rem 0 0.8rem 0;
        font-size: 1.1rem;
        box-shadow: var(--shadow);
        font-weight: 600;
      }
      
      /* æ™®é€šæ®µè½ç¾åŒ– */
      .md-content__inner p {
        line-height: 1.8;
        margin: 1rem 0;
        color: var(--gray-700);
        font-size: 1rem;
      }
      
      /* ä¸»è¦å†…å®¹å®¹å™¨ - ç¡®ä¿ä¸è¶…å‡ºé¡µé¢è¾¹ç•Œ */
      .md-content__inner {
        max-width: 100%;
        width: 100%;
        box-sizing: border-box;
        overflow-x: hidden;
        padding: 0 1rem;
      }
      

      
      /* é˜²æ­¢å›¾ç‰‡è¿‡å¤§å½±å“å¸ƒå±€ */
      .md-content__inner img[src*="latex"] {
        display: inline;
        margin: 0;
        box-shadow: none;
        border-radius: 0;
        vertical-align: middle;
      }
      
      /* åˆ—è¡¨ç¾åŒ– */
      .md-content__inner ul, .md-content__inner ol {
        padding-left: 2rem;
        margin: 1rem 0;
      }
      
      .md-content__inner li {
        margin: 0.5rem 0;
        line-height: 1.7;
        color: var(--gray-600);
      }
      
      /* è¡¨æ ¼ç¾åŒ– */
      .md-content__inner table {
        width: 100%;
        border-collapse: collapse;
        margin: 1.5rem 0;
        box-shadow: var(--shadow);
        border-radius: 8px;
        overflow: hidden;
        border: 1px solid var(--gray-200);
      }
      
      .md-content__inner th {
        background: var(--primary-color);
        color: white;
        padding: 1rem;
        text-align: left;
        font-weight: 600;
      }
      
      .md-content__inner td {
        padding: 0.8rem 1rem;
        border-bottom: 1px solid var(--gray-200);
      }
      
      .md-content__inner tr:nth-child(even) {
        background: var(--gray-50);
      }
      
      /* å¼ºè°ƒæ–‡æœ¬ç¾åŒ– */
      .md-content__inner strong {
        color: var(--gray-900);
        font-weight: 600;
      }
      
      .md-content__inner em {
        color: var(--gray-600);
        font-style: italic;
      }
      
      /* é“¾æ¥ç¾åŒ– */
      .md-content__inner a {
        color: var(--primary-color);
        text-decoration: none;
        border-bottom: 1px solid transparent;
        transition: var(--transition);
      }
      
      .md-content__inner a:hover {
        color: var(--primary-dark);
        border-bottom-color: var(--primary-dark);
      }
      
      /* å¼•ç”¨å—ç¾åŒ– */
      .md-content__inner blockquote {
        border-left: 4px solid var(--warning-color);
        background: #fefbf3;
        padding: 1rem 1.5rem;
        margin: 1.5rem 0;
        border-radius: 0 8px 8px 0;
        color: var(--gray-700);
        font-style: italic;
      }
      
      /* æ°´å¹³åˆ†å‰²çº¿ç¾åŒ– */
      .md-content__inner hr {
        border: none;
        height: 2px;
        background: linear-gradient(90deg, transparent, var(--primary-color), transparent);
        margin: 2rem 0;
      }
      
      /* å¯¼èˆªæ å“ç‰Œæ›´æ–° */
      .md-header__title .md-header__ellipsis .md-ellipsis {
        color: var(--primary-color);
        font-weight: 700;
      }
      
      /* è¿”å›é¦–é¡µæŒ‰é’® */
      .return-home-btn {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 50px;
        text-decoration: none;
        font-weight: 500;
        box-shadow: var(--shadow-lg);
        transition: var(--transition);
        z-index: 1000;
      }
      
      .return-home-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        color: white;
        text-decoration: none;
      }
      
      /* å“åº”å¼è®¾è®¡ */
      @media (max-width: 768px) {
        .md-content__inner {
          padding: 1rem;
        }
        
        .md-content__inner h1 {
          font-size: 2rem;
        }
        
        .md-content__inner h2 {
          font-size: 1.2rem;
          padding: 0.8rem 1rem;
        }
        
        .md-content__inner pre {
          padding: 1rem;
          font-size: 0.9rem;
        }
        
        .lgoj-home-btn {
          position: static;
          margin: 1rem 0;
          width: 100%;
          justify-content: center;
        }
      }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github.min.css">
  </head>
  <body>
    <!-- ç®€æ´çš„é¡µé¢å¤´éƒ¨ -->
    <header class="lgoj-header">
      <div class="container">
        <a href="/" class="logo">
          <i class="fas fa-book"></i>
          LGOJ é¢˜ç›®æµè§ˆç«™
        </a>
        <nav>
          <a href="/">é¦–é¡µ</a>
          <a href="/problem/list">é¢˜åº“</a>
          <a href="/about">å…³äº</a>
        </nav>
      </div>
    </header>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <main class="main-content">
      <div class="container">
        <div class="problem-content">
          <h2 id="_1">é¢˜ç›®æè¿°</h2>
<p>A set of grid points in a plane (points whose both cartesian coordinates are integers) which we shall refer to as the pattern, as well as a group of other sets of grid points on the plane are given. We would like to know which of the sets are similar to the pattern, i.e. which of them can be transformed by rotations, translations, reflections and dilations so that they are identical to the pattern. For instance: the set of points ${(0,0),(2,0),(2,1)}$ is similar to the set ${(6,1),(6,5),(4,5)}$, it is however not similar to the set ${(4,0),(6,0),(5,-1)}$.</p>
<p>TaskWrite a programme which:</p>
<p>reads from the standard input the description of the pattern and the family of the investigated sets of points,determines which of the investigated sets of points are similar to the pattern,writes the outcome to the standard output.</p>
<p>é¢˜ç›®æè¿°ï¼š</p>
<p>ç»™å‡ºä¸€ä¸ªåŒ…å«å¹³é¢ä¸Šæ ¼ç‚¹çš„é›†åˆï¼ˆæ ¼ç‚¹çš„å®šä¹‰æ˜¯xyåæ ‡å‡ä¸ºæ•´æ•°ï¼‰ï¼Œæˆ‘ä»¬å°†å…¶ç§°ä½œâ€œæ¨¡å¼é›†åˆâ€ã€‚</p>
<p>æ¥ä¸‹æ¥ç»™å‡ºå¦å¤–çš„å‡ ä¸ªåŒ…å«å¹³é¢ä¸Šç‚¹çš„é›†åˆã€‚æˆ‘ä»¬æƒ³è¦è€ƒå¯Ÿåé¢ç»™å‡ºçš„å“ªäº›é›†åˆå’Œâ€œæ¨¡å¼é›†åˆâ€æ˜¯â€œç›¸ä¼¼â€çš„ï¼Œå³ï¼šè¯¥é›†åˆå¯ä»¥é€šè¿‡ æ—‹è½¬ï¼Œå¹³ç§»ï¼Œç¿»è½¬ï¼Œå’Œç¼©æ”¾ ä½¿å¾—è¯¥é›†åˆå’Œâ€œæ¨¡å¼é›†åˆâ€å®Œå…¨ç›¸åŒã€‚</p>
<p>ä¾‹ï¼š{(0,0),(2,0),(2,1)}è¿™ä¸ªé›†åˆå’Œ{(6,1),(6,5),(4,5)}è¿™ä¸ªé›†åˆæ˜¯ç›¸ä¼¼çš„ï¼Œä½†å’Œ{(4,0),(6,0),(5,-1)}è¿™ä¸ªé›†åˆæ˜¯ä¸ç›¸ä¼¼çš„ã€‚</p>
<p>ä»»åŠ¡ï¼š</p>
<p>å†™ä¸€ä¸ªç¨‹åºï¼Œä½¿å¾—</p>
<p>èƒ½ä»æ ‡å‡†è¾“å…¥è¯»å–â€œæ¨¡å¼é›†åˆâ€å’Œéœ€è¦è€ƒå¯Ÿï¼ˆæ˜¯å¦ç›¸ä¼¼ï¼‰çš„é›†åˆï¼Œåˆ¤æ–­å“ªäº›é›†åˆå’Œâ€œæ¨¡å¼é›†åˆâ€ç›¸ä¼¼ï¼Œå¹¶å°†ç»“æœè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡º</p>
<p>è¾“å…¥æ ¼å¼ï¼š</p>
<p>æ ‡å‡†è¾“å…¥çš„ç¬¬ä¸€è¡Œæœ‰ä¸€ä¸ªæ•´æ•° k (1&lt;=k&lt;=25000)ï¼Œä»£è¡¨â€œæ¨¡å¼é›†åˆâ€ä¸­çš„ç‚¹æ•°</p>
<p>æ¥ä¸‹æ¥kè¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•°ï¼Œç”¨ä¸€ä¸ªç©ºæ ¼åˆ†éš”ï¼Œç¬¬i+1è¡Œçš„ä¸¤ä¸ªæ•°åˆ†åˆ«ä»£è¡¨â€œæ¨¡å¼é›†åˆâ€ä¸­ç¬¬iä¸ªç‚¹çš„xåæ ‡å’Œyåæ ‡(-20000&lt;=x,y&lt;=20000)</p>
<p>â€œæ¨¡å¼é›†åˆâ€ä¸­çš„ç‚¹ä¸¤ä¸¤ä¸åŒã€‚</p>
<p>æ¥ä¸‹æ¥ä¸€è¡Œä¸€ä¸ªæ•´æ•°nï¼Œä»£è¡¨æœ‰nä¸ªéœ€è¦è€ƒå¯Ÿçš„é›†åˆ</p>
<p>æ¥ä¸‹æ¥æœ‰nä¸ªå¯¹éœ€è¦è€ƒå¯Ÿçš„é›†åˆçš„æè¿°ï¼š</p>
<p>æ¯ä¸ªæè¿°çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°lï¼Œä»£è¡¨è¯¥é›†åˆä¸­çš„ç‚¹æ•°(1&lt;=l&lt;=25000)</p>
<p>æ¥ä¸‹æ¥lè¡Œæ¯è¡ŒåŒ…å«è¯¥é›†åˆä¸­ä¸€ä¸ªç‚¹çš„xåæ ‡å’Œyåæ ‡ï¼Œç”¨ä¸€ä¸ªç©ºæ ¼åˆ†éš”(-20000&lt;=x,y&lt;=20000ï¼Œä¸ºæ•´æ•°)</p>
<p>åŒ…å«åœ¨åŒä¸€é›†åˆä¸­çš„ç‚¹ä¸¤ä¸¤ä¸åŒã€‚</p>
<p>è¾“å‡ºæ ¼å¼ï¼š</p>
<p>ä½ çš„ç¨‹åºåº”è¯¥å‘æ ‡å‡†è¾“å‡ºæµè¾“å‡ºnè¡Œï¼Œæ¯è¡Œä»£è¡¨å¯¹äºä¸€ä¸ªéœ€è¦è€ƒå¯Ÿçš„é›†åˆçš„ç»“æœã€‚</p>
<p>å¦‚æœç¬¬iä¸ªéœ€è¦è€ƒå¯Ÿçš„é›†åˆä¸â€œæ¨¡å¼é›†åˆâ€ç›¸ä¼¼ï¼Œåˆ™ç¬¬iè¡Œåº”åŒ…å«å•è¯TAKï¼Œå³æ³¢å…°è¯­ä¸­çš„yes</p>
<p>å¦åˆ™ç¬¬iè¡Œåº”åŒ…å«å•è¯NIEï¼Œå³æ³¢å…°è¯­ä¸­çš„no</p>
<h2 id="_2">è¾“å…¥æ ¼å¼</h2>
<p>In the first line of the standard input there is a single integer $k$ ($1\le k\le 25\ 000$) - the number of points the pattern consists of. In the following $k$ lines there are pairs of integers, separated by single spaces. The $(i+1)$'st line contains the coordinates of $i$'th point belonging to the pattern: $x_{i}$ and $y_{i}$ ($-20\ 000\le x_{i},y_{i} \le 20\ 000$). The points forming the pattern are pairwise different. In the next line there is the number of sets to be investigated: $n$ ($1\le n\le 20$). Next, there are $n$ descriptions of these sets. The description of each set begins with a line containing a single integer $l$ - the number of points belonging to that particular set($1\le l\le 25\ 000$).These points are described in the following lines, a single point per line. The description of a point consists of two integers separated by a single space - its coordinates $x$ and $y$ ($-20\ 000\le x,y\le 20\ 000$).The points which belong to the same set are pairwise different.</p>
<h2 id="_3">è¾“å‡ºæ ¼å¼</h2>
<p>Your programme should write to the standard output $n$ lines - one for each of the investigated sets of points. The $i$'th line should contain the word TAK (i.e. yes in Polish), if the $i$'th of the given sets of points is similar to the pattern, or the word NIE (i.e. no in Polish) if the set does not satisfy this condition.</p>
<h2 id="_4">è¾“å…¥è¾“å‡ºæ ·ä¾‹</h2>
<h3 id="1">æ ·ä¾‹ #1</h3>
<h4 id="1_1">æ ·ä¾‹è¾“å…¥ #1</h4>
<div class="codehilite"><pre><span></span><code><span class="mf">3</span>
<span class="mf">0</span><span class="w"> </span><span class="mf">0</span>
<span class="mf">2</span><span class="w"> </span><span class="mf">0</span>
<span class="mf">2</span><span class="w"> </span><span class="mf">1</span>
<span class="mf">2</span>
<span class="mf">3</span>
<span class="mf">4</span><span class="w"> </span><span class="mf">1</span>
<span class="mf">6</span><span class="w"> </span><span class="mf">5</span>
<span class="mf">4</span><span class="w"> </span><span class="mf">5</span>
<span class="mf">3</span>
<span class="mf">4</span><span class="w"> </span><span class="mf">0</span>
<span class="mf">6</span><span class="w"> </span><span class="mf">0</span>
<span class="mf">5</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span>
</code></pre></div>

<h4 id="1_2">æ ·ä¾‹è¾“å‡º #1</h4>
<div class="codehilite"><pre><span></span><code>TAK
NIE
</code></pre></div>
        </div>
        
        <!-- è¯„è®ºåŒºåŸŸ -->
        <div class="comments-section">
          <div class="comments-title">
            ğŸ’¬ è®¨è®ºäº¤æµ
          </div>
          <script src="https://giscus.app/client.js"
                  data-repo="Eternity-Sky/luogu-problem-reader"
                  data-repo-id="R_kgDOPiP5uw"
                  data-category="Announcements"
                  data-category-id="DIC_kwDOPiP5u84CugHo"
                  data-mapping="url"
                  data-strict="0"
                  data-reactions-enabled="1"
                  data-emit-metadata="0"
                  data-input-position="bottom"
                  data-theme="light"
                  data-lang="zh-CN"
                  crossorigin="anonymous"
                  async>
          </script>
        </div>
      </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="lgoj-footer">
      <div class="container">
        <p>Â© 2025 LGOJ é¢˜ç›®æµè§ˆç«™ | æ´›è°·é¢˜ç›®é™æ€æµè§ˆå¹³å°</p>
      </div>
    </footer>

    <!-- è¿”å›é¦–é¡µæŒ‰é’® -->
    <a href="/" class="return-home-btn">
      <i class="fas fa-home"></i>
      è¿”å›é¦–é¡µ
    </a>

    <!-- JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      if (typeof hljs !== 'undefined') {
        hljs.highlightAll();
      }
    </script>
    <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
    <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {

        
        // æ¸²æŸ“æ•°å­¦å…¬å¼
        renderMathInElement(document.body, {
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false},
            {left: '\\(', right: '\\)', display: false},
            {left: '\\[', right: '\\]', display: true}
          ],
          throwOnError: false
        });
      });
    </script>
  </body>
</html>
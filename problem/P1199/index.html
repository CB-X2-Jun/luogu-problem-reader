<!doctype html>
<html lang="zh" class="no-js">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="洛谷题目浏览站题目详情">
    <meta name="author" content="CB_X2_Jun">
    <link rel="canonical" href="https://luogu.cb-x2-jun.run.place/problem/P1199/">
    <link rel="icon" href="../../assets/images/favicon.png">
    <meta name="generator" content="mkdocs-material">
    <title>P1199 [NOIP 2010 普及组] 三国游戏</title>
    <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
    <style>:root { --md-text-font: "Roboto"; --md-code-font: "Roboto Mono" }</style>
    <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github.min.css">
  </head>
  <body dir="ltr">
    <header class="md-header md-header--shadow" data-md-component="header">
      <nav class="md-header__inner md-grid" aria-label="页眉">
        <a href="/" title="洛谷题目浏览站" class="md-header__button md-logo" aria-label="洛谷题目浏览站" data-md-component="logo">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>
        </a>
        <div class="md-header__title" data-md-component="header-title">
          <div class="md-header__ellipsis">
            <div class="md-header__topic">
              <span class="md-ellipsis">洛谷题目浏览站</span>
            </div>
            <div class="md-header__topic" data-md-component="header-topic">
              <span class="md-ellipsis">P1199 [NOIP 2010 普及组] 三国游戏</span>
            </div>
          </div>
        </div>
      </nav>
    </header>
    <div class="md-container" data-md-component="container">
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              <h2 id="_1">题目描述</h2>
<p>小涵很喜欢电脑游戏，这些天他正在玩一个叫做《三国》的游戏。</p>
<p>在游戏中，小涵和计算机各执一方，组建各自的军队进行对战。游戏中共有 $N$ 位武将（$N$ 为偶数且不小于 $4$），任意两个武将之间有一个“默契值”，表示若此两位武将作为一对组合作战时，该组合的威力有多大。游戏开始前，所有武将都是自由的（称为自由武将，一旦某个自由武将被选中作为某方军队的一员，那么他就不再是自由武将了），换句话说，所谓的自由武将不属于任何一方。</p>
<p>游戏开始，小涵和计算机要从自由武将中挑选武将组成自己的军队，规则如下：小涵先从自由武将中选出一个加入自己的军队，然后计算机也从自由武将中选出一个加入计算机方的军队。接下来一直按照“小涵 $\to$ 计算机 $\to$ 小涵 $\to\dots$ ”的顺序选择武将，直到所有的武将被双方均分完。然后，程序自动从双方军队中各挑出一对默契值最高的武将组合代表自己的军队进行二对二比武，拥有更高默契值的一对武将组合获胜，表示两军交战，拥有获胜武将组合的一方获胜。</p>
<p>已知计算机一方选择武将的原则是尽量破坏对手下一步将形成的最强组合，它采取的具体策略如下：任何时刻，轮到计算机挑选时，它会尝试将对手军队中的每个武将与当前每个自由武将进行一一配对，找出所有配对中默契值最高的那对武将组合，并将该组合中的自由武将选入自己的军队。 下面举例说明计算机的选将策略，例如，游戏中一共有 $6$ 个武将，他们相互之间的默契值如下表所示：</p>
<table>
<thead>
<tr>
<th style="text-align: center;">武将编号</th>
<th style="text-align: center;">1</th>
<th style="text-align: center;">2</th>
<th style="text-align: center;">3</th>
<th style="text-align: center;">4</th>
<th style="text-align: center;">5</th>
<th style="text-align: center;">6</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>1</strong></td>
<td style="text-align: center;"></td>
<td style="text-align: center;">$5$</td>
<td style="text-align: center;">$28$</td>
<td style="text-align: center;">$16$</td>
<td style="text-align: center;">$29$</td>
<td style="text-align: center;">$27$</td>
</tr>
<tr>
<td style="text-align: center;"><strong>2</strong></td>
<td style="text-align: center;">$5$</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">$23$</td>
<td style="text-align: center;">$3$</td>
<td style="text-align: center;">$20$</td>
<td style="text-align: center;">$1$</td>
</tr>
<tr>
<td style="text-align: center;"><strong>3</strong></td>
<td style="text-align: center;">$28$</td>
<td style="text-align: center;">$23$</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">$8$</td>
<td style="text-align: center;">$32$</td>
<td style="text-align: center;">$26$</td>
</tr>
<tr>
<td style="text-align: center;"><strong>4</strong></td>
<td style="text-align: center;">$16$</td>
<td style="text-align: center;">$3$</td>
<td style="text-align: center;">$8$</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">$33$</td>
<td style="text-align: center;">$11$</td>
</tr>
<tr>
<td style="text-align: center;"><strong>5</strong></td>
<td style="text-align: center;">$29$</td>
<td style="text-align: center;">$20$</td>
<td style="text-align: center;">$32$</td>
<td style="text-align: center;">$33$</td>
<td style="text-align: center;"></td>
<td style="text-align: center;">$12$</td>
</tr>
<tr>
<td style="text-align: center;"><strong>6</strong></td>
<td style="text-align: center;">$27$</td>
<td style="text-align: center;">$1$</td>
<td style="text-align: center;">$26$</td>
<td style="text-align: center;">$11$</td>
<td style="text-align: center;">$12$</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<p>双方选将过程如下所示：</p>
<table>
<thead>
<tr>
<th style="text-align: center;"></th>
<th style="text-align: center;">小涵</th>
<th style="text-align: center;">轮到计算机时可选的自由武将</th>
<th style="text-align: center;">计算机</th>
<th style="text-align: center;">计算机选将说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">第一轮</td>
<td style="text-align: center;">$5$</td>
<td style="text-align: center;">$1,2,3,4,6$</td>
<td style="text-align: center;">$\color{magenta}4$</td>
<td style="text-align: center;">小涵手中的 $5$ 号武将与 $4$ 号的默契值最高，所以计算机选择 $4$ 号。</td>
</tr>
<tr>
<td style="text-align: center;">第二轮</td>
<td style="text-align: center;">$5,3$</td>
<td style="text-align: center;">$1,2,6$</td>
<td style="text-align: center;">$4,\color{magenta}1$</td>
<td style="text-align: center;">小涵手中的 $5$ 号和 $3$ 号武将与自由武将中配对可产生的最大默契值为 $29$，是由 $5$ 号与 $1$ 号配对产生的，所以计算机选择 $1$ 号。</td>
</tr>
<tr>
<td style="text-align: center;">第三轮</td>
<td style="text-align: center;">$5,3,6$</td>
<td style="text-align: center;">$2$</td>
<td style="text-align: center;">$4,1,\color{magenta}2$</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<p>小涵想知道，如果计算机在一局游戏中始终坚持上面这个策略，那么自己有没有可能必胜？如果有，在所有可能的胜利结局中，自己那对用于比武的武将组合的默契值最大是多少？  </p>
<p>假设整个游戏过程中，对战双方任何时候均能看到自由武将队中的武将和对方军队的武将。为了简化问题，保证对于不同的武将组合，其默契值均不相同。</p>
<h2 id="_2">输入格式</h2>
<p>共 $N$ 行。</p>
<p>第一行为一个偶数 $N$，表示武将的个数。</p>
<p>第 $2$ 行到第 $N$ 行里，第 $i+1$ 行有 $N-i$ 个非负整数，每两个数之间用一个空格隔开，表示 $i$ 号武将和 $i+1,i+2,\dots,N $ 号武将之间的默契值（$0 \le \text{默契值} \le 10^9$）。</p>
<h2 id="_3">输出格式</h2>
<p>共一或二行。</p>
<p>若对于给定的游戏输入，存在可以让小涵获胜的选将顺序，则输出 $ 1$，并另起一行输出所有获胜的情况中，小涵最终选出的武将组合的最大默契值。如果不存在可以让小涵获胜的选将顺序，则输出 $0$。</p>
<h2 id="_4">输入输出样例</h2>
<h3 id="1">样例 #1</h3>
<h4 id="1_1">样例输入 #1</h4>
<pre class="hljs"><code class="hljs">6 
5 28 16 29 27 
23 3 20 1 
8 32 26 
33 11 
12</code></pre>

<h4 id="1_2">样例输出 #1</h4>
<pre class="hljs"><code class="hljs">1
32</code></pre>

<h3 id="2">样例 #2</h3>
<h4 id="2_1">样例输入 #2</h4>
<pre class="hljs"><code class="hljs">8 
42 24 10 29 27 12 58 
31 8 16 26 80 6 
25 3 36 11 5 
33 20 17 13 
15 77 9 
4 50 
19</code></pre>

<h4 id="2_2">样例输出 #2</h4>
<pre class="hljs"><code class="hljs">1
77</code></pre>

<h2 id="_5">说明/提示</h2>
<p><strong>数据范围</strong></p>
<p>对于 $ 40\%$ 的数据有 $N≤10$。</p>
<p>对于 $ 70\%$ 的数据有 $ N≤18$。</p>
<p>对于 $100\%$ 的数据有 $4\le N≤500$。保证对于不同的武将组合，其默契值均不相同。</p>
<p>NOIP2010 普及组 第四题</p>
            </article>
          </div>
        </div>
      </main>
      <footer class="md-footer">
        <div class="md-footer-meta md-typeset">
          <div class="md-footer-meta__inner md-grid">
            <div class="md-copyright">
              <div class="md-copyright__highlight">© 2025 洛谷题目浏览站</div>
              Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">Material for MkDocs</a>
            </div>
          </div>
        </div>
      </footer>
    </div>
    <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script src="/javascripts/katex.js"></script>
    <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
    <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, { 
          delimiters: [{"left":"$","right":"$","display":false}],
          throwOnError: false
        });
      });
    </script>
  </body>
</html>
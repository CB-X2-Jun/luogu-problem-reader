<!doctype html>
<html lang="zh" class="no-js">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="æ´›è°·é¢˜ç›®æµè§ˆç«™é¢˜ç›®è¯¦æƒ…">
    <meta name="author" content="CB_X2_Jun">
    <link rel="canonical" href="https://lglg.netlify.app/problem/P3035/">
    <link rel="icon" href="../../assets/images/favicon.png">
    <meta name="generator" content="mkdocs-material">
    <title>P3035 [USACO11DEC] Umbrellas for Cows S</title>
    <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
    <style>
      :root { --md-text-font: "Roboto"; --md-code-font: "Roboto Mono" }
      
      /* ç¾åŒ–é¢˜ç›®é¡µé¢æ ·å¼ */
      .md-content__inner {
        max-width: 1000px;
        margin: 0 auto;
      }
      
      /* é¢˜ç›®æ ‡é¢˜ç¾åŒ– */
      .md-content__inner h1 {
        color: #2c3e50;
        font-size: 2.5rem;
        font-weight: bold;
        margin-bottom: 2rem;
        text-align: center;
        padding: 1rem 0;
        border-bottom: 3px solid #3498db;
      }
      
      /* é¢˜ç›®å†…å®¹åŒºå—ç¾åŒ– */
      .md-content__inner h2 {
        background: #f8f9fa;
        color: #2c3e50;
        padding: 1rem 1.5rem;
        border-radius: 8px;
        border-left: 4px solid #3498db;
        margin: 2rem 0 1rem 0;
        font-size: 1.3rem;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        font-weight: 600;
      }
      
      /* ä»£ç å—ç¾åŒ– */
      .md-content__inner pre {
        background: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 8px;
        padding: 1.5rem;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        margin: 1.5rem 0;
      }
      
      .md-content__inner pre code {
        background: transparent;
        color: #2c3e50;
        padding: 0;
        border-radius: 0;
        font-weight: 400;
      }
      
      .md-content__inner code {
        background: #e9ecef;
        color: #495057;
        padding: 0.2rem 0.5rem;
        border-radius: 4px;
        font-weight: 500;
      }
      
      /* æ ·ä¾‹åŒºå—ç‰¹æ®Šç¾åŒ– */
      .md-content__inner h3:contains("æ ·ä¾‹") {
        background: #f0f8ff;
        color: #2c3e50;
        padding: 0.8rem 1.2rem;
        border-radius: 6px;
        border-left: 4px solid #17a2b8;
        margin: 1.5rem 0 0.8rem 0;
        font-size: 1.1rem;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        font-weight: 600;
      }
      
      /* æ™®é€šæ®µè½ç¾åŒ– */
      .md-content__inner p {
        line-height: 1.8;
        margin: 1rem 0;
        color: #444;
      }
      
      /* åˆ—è¡¨ç¾åŒ– */
      .md-content__inner ul, .md-content__inner ol {
        padding-left: 2rem;
        margin: 1rem 0;
      }
      
      .md-content__inner li {
        margin: 0.5rem 0;
        line-height: 1.6;
      }
      
      /* è¡¨æ ¼ç¾åŒ– */
      .md-content__inner table {
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        margin: 1.5rem 0;
      }
      
      .md-content__inner th {
        background: #e9ecef;
        color: #495057;
        font-weight: 600;
      }
      
      /* è¿”å›æŒ‰é’®ç¾åŒ– */
      .back-button {
        display: inline-block;
        background: #3498db;
        color: white;
        padding: 0.8rem 1.5rem;
        border-radius: 8px;
        text-decoration: none;
        font-weight: bold;
        margin: 2rem 0;
        transition: background-color 0.3s;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      
      .back-button:hover {
        background: #2980b9;
        transform: translateY(-1px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        color: white;
        text-decoration: none;
      }
      
      /* Giscusè¯„è®ºåŒºåŸŸæ ·å¼ */
      .comments-section {
        margin: 3rem 0 2rem 0;
        padding: 2rem;
        background: #f8f9fa;
        border-radius: 12px;
        border: 1px solid #e9ecef;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      }
      
      .comments-title {
        color: #2c3e50;
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1.5rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid #3498db;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      
      /* è‡ªå®šä¹‰Giscusæ ·å¼ */
      .giscus {
        margin-top: 1rem;
      }
      
      .giscus-frame {
        border-radius: 8px;
        border: 1px solid #e9ecef;
      }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github.min.css">
  </head>
  <body dir="ltr">
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      <a href="#é¢˜ç›®å†…å®¹" class="md-skip">è·³è½¬è‡³</a>
    </div>
    <div data-md-component="announce"></div>
    
    <div id="__config" data-md-config="{&quot;base&quot;:&quot;../..&quot;,&quot;features&quot;:[],&quot;search&quot;:{&quot;worker&quot;:&quot;assets/javascripts/workers/search.b8dbb3d2.min.js&quot;}}"></div>
    
    <header class="md-header md-header--shadow" data-md-component="header">
      <nav class="md-header__inner md-grid" aria-label="é¡µçœ‰">
        <a href="/" title="æ´›è°·é¢˜ç›®æµè§ˆç«™" class="md-header__button md-logo" aria-label="æ´›è°·é¢˜ç›®æµè§ˆç«™" data-md-component="logo">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>
        </a>
        <label class="md-header__button md-icon" for="__drawer">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
        </label>
        <div class="md-header__title" data-md-component="header-title">
          <div class="md-header__ellipsis">
            <div class="md-header__topic">
              <span class="md-ellipsis">æ´›è°·é¢˜ç›®æµè§ˆç«™</span>
            </div>
            <div class="md-header__topic" data-md-component="header-topic">
              <span class="md-ellipsis">P3035 [USACO11DEC] Umbrellas for Cows S</span>
            </div>
          </div>
        </div>
      </nav>
    </header>
    <div class="md-container" data-md-component="container">
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          <!-- ä¾§è¾¹æ å¯¼èˆª -->
          <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" aria-label="å¯¼èˆªæ " data-md-level="0">
                  <label class="md-nav__title" for="__drawer">
                    <a href="/" title="æ´›è°·é¢˜ç›®æµè§ˆç«™" class="md-nav__button md-logo" aria-label="æ´›è°·é¢˜ç›®æµè§ˆç«™" data-md-component="logo">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>
                    </a>
                    æ´›è°·é¢˜ç›®æµè§ˆç«™
                  </label>
                  <ul class="md-nav__list" data-md-scrollfix>
                    <li class="md-nav__item">
                      <a href="/" class="md-nav__link">
                        <span class="md-ellipsis">ğŸ  é¦–é¡µ</span>
                      </a>
                    </li>
                    <li class="md-nav__item">
                      <a href="/problem/list/" class="md-nav__link">
                        <span class="md-ellipsis">ğŸ“‹ é¢˜ç›®åˆ—è¡¨</span>
                      </a>
                    </li>
                    <li class="md-nav__item">
                      <a href="/about/" class="md-nav__link">
                        <span class="md-ellipsis">â„¹ï¸ å…³äº</span>
                      </a>
                    </li>
                  </ul>
                </nav>
              </div>
            </div>
          </div>
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              <h2 id="_1">é¢˜ç›®æè¿°</h2>
<p>Today is a rainy day! Farmer John's N (1 &lt;= N &lt;= 5,000) cows, numbered 1..N, are not particularly fond of getting wet. The cows are standing in roofless stalls arranged on a number line. The stalls span X-coordinates from 1 to M (1 &lt;= M &lt;= 100,000). Cow i stands at a stall on coordinate X_i (1 &lt;= X_i &lt;= M). No two cows share stalls.</p>
<p>In order to protect the cows from the rain, Farmer John wants to buy them umbrellas. An umbrella that spans coordinates X_i to X_j (X_i &lt;= X_j) has a width of X_j - X_i + 1. It costs C_W (1 &lt;= C_W &lt;= 1,000,000) to buy an umbrella of width W.  Larger umbrellas do not necessarily cost more than smaller umbrellas.</p>
<p>Help Farmer John find the minimum cost it takes to purchase a set of umbrellas that will protect every cow from the rain.  Note that the set of umbrellas in an optimal solution might overlap to some extent.</p>
<p>åœ¨ X æ•°è½´ä¸Šæœ‰ M ä¸ªæ•´æ•°ç‚¹ï¼Œç‚¹çš„åæ ‡åˆ†åˆ«æ˜¯ 1 è‡³ Mã€‚æœ‰ Nï¼ˆ1&lt;= N&lt;= 5000ï¼‰åªå¥¶ç‰›ï¼Œç¼–å·ä¸º 1.. Nï¼Œç¬¬ i åªå¥¶ç‰›æ‰€åœ¨çš„æ•´æ•°ç‚¹åæ ‡æ˜¯ Xiï¼ˆ1&lt;= Xi &lt;= M &lt;= 100,000ï¼‰, æ²¡æœ‰ä¸¤å¤´å¥¶ç‰›åœ¨ç›¸åŒçš„ç‚¹ä¸Šã€‚ç°åœ¨æ­£åœ¨ä¸‹é›¨ï¼Œä¸ºäº†ä¿æŠ¤å¥¶ç‰›ï¼ŒFJ éœ€è¦è´­ä¹°å¾ˆå¤šæŠŠé›¨ä¼ï¼ŒæŠŠæ‰€æœ‰çš„å¥¶ç‰›éƒ½é®ä½ã€‚å¦‚æœä¸€æŠŠé›¨ä¼èƒ½é®ä½åæ ‡æ˜¯ a åˆ°åæ ‡æ˜¯ b çš„è¿™ä¸€æ®µï¼ˆa&lt;=bï¼‰ï¼Œé‚£ä¹ˆè¿™æŠŠé›¨ä¼çš„å®½åº¦å°±æ˜¯ b-a+1ã€‚ç°åœ¨æˆ‘ä»¬ç»™å‡ºè´­ä¹°å®½åº¦æ˜¯ 1 çš„é›¨ä¼çš„ä»·æ ¼ï¼Œè´­ä¹°å®½åº¦æ˜¯ 2 çš„é›¨ä¼çš„ä»·æ ¼ï¼Œâ€¦è´­ä¹°å®½åº¦æ˜¯ M çš„é›¨ä¼çš„ä»·æ ¼ã€‚</p>
<p>è¿™é‡Œç‰¹åˆ«éœ€è¦æ³¨æ„ï¼šå®½åº¦æ›´å¤§çš„é›¨ä¼çš„ä»·æ ¼ä¸ä¸€å®šè¶…è¿‡å®½åº¦è¾ƒå°çš„é›¨ä¼ï¼Œè¿™å®Œå…¨å–å†³äºè¯»å…¥æ•°æ®ã€‚ä½ çš„ä»»åŠ¡æ˜¯å¸®åŠ© FJ æ‰¾åˆ°è´­ä¹°é›¨ä¼æœ€ä½çš„æˆæœ¬ï¼Œä½¿å¾—è¿™äº›é›¨ä¼èƒ½æŠŠæ‰€æœ‰çš„å¥¶ç‰›é®ä½ï¼Œä»è€Œä¸æ·‹é›¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯æœ€ä½³çš„è§£å†³æ–¹æ¡ˆé›¨ä¼å¯èƒ½ä¼šé‡å ã€‚</p>
<h2 id="_2">è¾“å…¥æ ¼å¼</h2>
<p>* Line 1: Two space-separated integers: N and M.</p>
<p>* Lines 2..N+1: Line i+1 contains a single integer: X_i.</p>
<p>* Lines N+2..N+M+1: Line N+j+1 contains a single integer: C_j.</p>
<p>ç¬¬ 1 è¡Œï¼šä¸¤ä¸ªç©ºé—´åˆ†éš”çš„æ•´æ•°ï¼šN å’Œ Mã€‚</p>
<p>ä¸‹æ¥æœ‰ N è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼šXiï¼Œè¡¨ç¤ºç¬¬ i å¤´å¥¶ç‰›æ‰€åœ¨çš„ç‚¹çš„åæ ‡å€¼ã€‚</p>
<p>æ¥ä¸‹æ¥æœ‰ M è¡Œï¼šæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° Ciï¼Œè¡¨ç¤ºè´­ä¹°å®½åº¦æ˜¯ i çš„é›¨ä¼çš„ä»·æ ¼æ˜¯ Ci å…ƒã€‚</p>
<h2 id="_3">è¾“å‡ºæ ¼å¼</h2>
<p>* Line 1: A single integer that is the minimum cost needed to purchase umbrellas for all the cows.</p>
<p>ä¸€ä¸ªæ•´æ•°ï¼Œæ˜¯æœ€ä½çš„æˆæœ¬ã€‚</p>
<h2 id="_4">è¾“å…¥è¾“å‡ºæ ·ä¾‹</h2>
<h3 id="1">æ ·ä¾‹ #1</h3>
<h4 id="1_1">æ ·ä¾‹è¾“å…¥ #1</h4>
<pre class="codehilite"><code>6 12 
1 
2 
11 
8 
4 
12 
2 
3 
4 
4 
8 
9 
15 
16 
17 
18 
19 
19
</code></pre>

<h4 id="1_2">æ ·ä¾‹è¾“å‡º #1</h4>
<pre class="codehilite"><code>9
</code></pre>

<h2 id="_5">è¯´æ˜/æç¤º</h2>
<p>There are 12 stalls, and stalls 1, 2, 4, 8, 11, and 12 contain cows. An umbrella covering one stall costs 2, an umbrella covering two stalls costs 3, and so on.</p>
<p>By purchasing a size 4 umbrella, a size 1 umbrella, and a size 2 umbrella, it is possible to cover all the cows at a cost of 4+2+3=9:</p>
<p>UUUUUUUUUU           U        UUUU</p>
<p>C  C     C           C        C  C</p>
<p>|--|--|--|--|--|--|--|--|--|--|--| 
1  2  3  4  5  6  7  8  9  10 11 12</p>
<p>C represents a cow and U represents a part of an umbrella.</p>
<p>1ã€ ä¹°ä¸€æŠŠé•¿åº¦æ˜¯ 4 çš„é›¨ä¼å»é®ä½åæ ‡åœ¨ 1ã€2ã€4 çš„ä¸‰å¤´å¥¶ç‰›ï¼Œè´¹ç”¨æ˜¯ 4ï¼›</p>
<p>2ã€ ä¹°ä¸€æŠŠé•¿åº¦æ˜¯ 1 çš„é›¨ä¼é®ä½åæ ‡åœ¨ 8 çš„å¥¶ç‰›ï¼Œè´¹ç”¨æ˜¯ 2ï¼›</p>
<p>3ã€ ä¹°ä¸€æŠŠé•¿åº¦æ˜¯ 2 çš„é›¨ä¼é®ä½åæ ‡åœ¨ 11ã€12 çš„ä¸¤å¤´å¥¶ç‰›ï¼Œè´¹ç”¨æ˜¯ 3ã€‚</p>
<p>æ€»è´¹ç”¨æ˜¯ 4 +2+ 3 = 9ã€‚</p>
              
              <!-- Giscusè¯„è®ºç³»ç»Ÿ -->
              <div class="comments-section">
                <div class="comments-title">
                  ğŸ’¬ è®¨è®ºäº¤æµ
                </div>
                <script src="https://giscus.app/client.js"
                        data-repo="Eternity-Sky/luogu-problem-reader"
                        data-repo-id="R_kgDOPiP5uw"
                        data-category="Announcements"
                        data-category-id="DIC_kwDOPiP5u84CugHo"
                        data-mapping="url"
                        data-strict="0"
                        data-reactions-enabled="1"
                        data-emit-metadata="0"
                        data-input-position="bottom"
                        data-theme="preferred_color_scheme"
                        data-lang="zh-CN"
                        data-loading="lazy"
                        crossorigin="anonymous"
                        async>
                </script>
              </div>
            </article>
          </div>
        </div>
      </main>
      <footer class="md-footer">
        <div class="md-footer-meta md-typeset">
          <div class="md-footer-meta__inner md-grid">
            <div class="md-copyright">
              <div class="md-copyright__highlight">Â© 2025 æ´›è°·é¢˜ç›®æµè§ˆç«™</div>
              Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">Material for MkDocs</a>
            </div>
          </div>
        </div>
      </footer>
    </div>
    <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      if (typeof hljs !== 'undefined') {
        hljs.highlightAll();
      }
    </script>
    <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
    <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, { 
          delimiters: [
            {"left":"$$","right":"$$","display":true},
            {"left":"$","right":"$","display":false},
            {"left":"\\(","right":"\\)","display":false},
            {"left":"\\[","right":"\\]","display":true}
          ],
          throwOnError: false,
          strict: false,
          trust: true
        });
      });
    </script>
  </body>
</html>
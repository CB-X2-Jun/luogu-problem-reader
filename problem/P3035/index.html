<!doctype html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="LGOJ é¢˜ç›®æµè§ˆç«™ - æ´›è°·é¢˜ç›®è¯¦æƒ…">
    <meta name="author" content="LGOJ Team">
    <link rel="canonical" href="https://lglg.netlify.app/problem/P3035/">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/1336/1336494.png" type="image/png">
    <meta name="generator" content="LGOJ é¢˜ç›®æµè§ˆç«™">
    <title>P3035 P3035 [USACO11DEC] Umbrellas for Cows S - LGOJ é¢˜ç›®æµè§ˆç«™</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
      :root {
        --primary-color: #2563eb;
        --primary-dark: #1d4ed8;
        --secondary-color: #10b981;
        --accent-color: #8b5cf6;
        --danger-color: #ef4444;
        --warning-color: #f59e0b;
        --dark-color: #1f2937;
        --light-color: #f9fafb;
        --gray-50: #f9fafb;
        --gray-100: #f3f4f6;
        --gray-200: #e5e7eb;
        --gray-300: #d1d5db;
        --gray-400: #9ca3af;
        --gray-500: #6b7280;
        --gray-600: #4b5563;
        --gray-700: #374151;
        --gray-800: #1f2937;
        --gray-900: #111827;
        --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
        --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
        --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        --transition: all 0.2s ease-in-out;
      }
      { --md-text-font: "Roboto"; --md-code-font: "Roboto Mono" }
      
      /* LGOJ é¢˜ç›®é¡µé¢æ ·å¼ */
      body {
        font-family: 'Inter', 'PingFang SC', 'Microsoft YaHei', sans-serif;
        background-color: #fff;
        color: var(--gray-900);
        line-height: 1.6;
        margin: 0;
        padding: 0;
      }
      
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }
      
      /* é¡µé¢å¤´éƒ¨ */
      .lgoj-header {
        background: white;
        border-bottom: 1px solid var(--gray-200);
        padding: 1rem 0;
        position: sticky;
        top: 0;
        z-index: 100;
        box-shadow: var(--shadow-sm);
      }
      
      .lgoj-header .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .lgoj-header .logo {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--primary-color);
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      
      .lgoj-header .logo:hover {
        color: var(--primary-dark);
      }
      
      .lgoj-header nav {
        display: flex;
        gap: 2rem;
      }
      
      .lgoj-header nav a {
        color: var(--gray-700);
        text-decoration: none;
        font-weight: 500;
        transition: var(--transition);
      }
      
      .lgoj-header nav a:hover {
        color: var(--primary-color);
      }
      
      /* ä¸»è¦å†…å®¹åŒºåŸŸ */
      .main-content {
        min-height: calc(100vh - 200px);
        padding: 2rem 0;
      }
      
      .problem-content {
        max-width: 1000px;
        margin: 0 auto;
        background: white;
        padding: 2rem;
        border-radius: 12px;
        box-shadow: var(--shadow);
      }
      
      /* é¡µè„š */
      .lgoj-footer {
        background: var(--gray-50);
        border-top: 1px solid var(--gray-200);
        padding: 2rem 0;
        text-align: center;
        color: var(--gray-600);
      }
      
      /* é¢˜ç›®æ ‡é¢˜ç¾åŒ– */
      .md-content__inner h1 {
        color: var(--gray-900);
        font-size: 2.5rem;
        font-weight: 800;
        margin-bottom: 2rem;
        text-align: center;
        padding: 2rem 0 1rem 0;
        background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        border-bottom: 2px solid var(--gray-200);
      }
      
      /* é¢˜ç›®å†…å®¹åŒºå—ç¾åŒ– */
      .md-content__inner h2 {
        background: var(--gray-50);
        color: var(--gray-900);
        padding: 1rem 1.5rem;
        border-radius: 8px;
        border-left: 4px solid var(--primary-color);
        margin: 2rem 0 1rem 0;
        font-size: 1.3rem;
        box-shadow: var(--shadow);
        font-weight: 600;
      }
      
      /* ä»£ç å—ç¾åŒ– */
      .md-content__inner pre {
        background: var(--gray-50);
        border: 1px solid var(--gray-200);
        border-radius: 8px;
        padding: 1.5rem;
        box-shadow: var(--shadow);
        margin: 1.5rem 0;
        font-family: 'JetBrains Mono', 'Consolas', monospace;
      }
      
      .md-content__inner pre code {
        background: transparent;
        color: var(--gray-800);
        padding: 0;
        border-radius: 0;
        font-weight: 400;
        font-family: 'JetBrains Mono', 'Consolas', monospace;
      }
      
      .md-content__inner code {
        background: var(--gray-100);
        color: var(--gray-800);
        padding: 0.2rem 0.5rem;
        border-radius: 4px;
        font-weight: 500;
        font-family: 'JetBrains Mono', 'Consolas', monospace;
      }
      
      /* æ ·ä¾‹åŒºå—ç‰¹æ®Šç¾åŒ– */
      .md-content__inner h3 {
        background: linear-gradient(135deg, var(--secondary-color), #059669);
        color: white;
        padding: 0.8rem 1.2rem;
        border-radius: 6px;
        margin: 1.5rem 0 0.8rem 0;
        font-size: 1.1rem;
        box-shadow: var(--shadow);
        font-weight: 600;
      }
      
      /* æ™®é€šæ®µè½ç¾åŒ– */
      .md-content__inner p {
        line-height: 1.8;
        margin: 1rem 0;
        color: var(--gray-700);
        font-size: 1rem;
      }
      
      /* åˆ—è¡¨ç¾åŒ– */
      .md-content__inner ul, .md-content__inner ol {
        padding-left: 2rem;
        margin: 1rem 0;
      }
      
      .md-content__inner li {
        margin: 0.5rem 0;
        line-height: 1.7;
        color: var(--gray-600);
      }
      
      /* è¡¨æ ¼ç¾åŒ– */
      .md-content__inner table {
        width: 100%;
        border-collapse: collapse;
        margin: 1.5rem 0;
        box-shadow: var(--shadow);
        border-radius: 8px;
        overflow: hidden;
        border: 1px solid var(--gray-200);
      }
      
      .md-content__inner th {
        background: var(--primary-color);
        color: white;
        padding: 1rem;
        text-align: left;
        font-weight: 600;
      }
      
      .md-content__inner td {
        padding: 0.8rem 1rem;
        border-bottom: 1px solid var(--gray-200);
      }
      
      .md-content__inner tr:nth-child(even) {
        background: var(--gray-50);
      }
      
      /* å¼ºè°ƒæ–‡æœ¬ç¾åŒ– */
      .md-content__inner strong {
        color: var(--gray-900);
        font-weight: 600;
      }
      
      .md-content__inner em {
        color: var(--gray-600);
        font-style: italic;
      }
      
      /* é“¾æ¥ç¾åŒ– */
      .md-content__inner a {
        color: var(--primary-color);
        text-decoration: none;
        border-bottom: 1px solid transparent;
        transition: var(--transition);
      }
      
      .md-content__inner a:hover {
        color: var(--primary-dark);
        border-bottom-color: var(--primary-dark);
      }
      
      /* å¼•ç”¨å—ç¾åŒ– */
      .md-content__inner blockquote {
        border-left: 4px solid var(--warning-color);
        background: #fefbf3;
        padding: 1rem 1.5rem;
        margin: 1.5rem 0;
        border-radius: 0 8px 8px 0;
        color: var(--gray-700);
        font-style: italic;
      }
      
      /* æ°´å¹³åˆ†å‰²çº¿ç¾åŒ– */
      .md-content__inner hr {
        border: none;
        height: 2px;
        background: linear-gradient(90deg, transparent, var(--primary-color), transparent);
        margin: 2rem 0;
      }
      
      /* å¯¼èˆªæ å“ç‰Œæ›´æ–° */
      .md-header__title .md-header__ellipsis .md-ellipsis {
        color: var(--primary-color);
        font-weight: 700;
      }
      
      /* è¿”å›é¦–é¡µæŒ‰é’® */
      .return-home-btn {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 50px;
        text-decoration: none;
        font-weight: 500;
        box-shadow: var(--shadow-lg);
        transition: var(--transition);
        z-index: 1000;
      }
      
      .return-home-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        color: white;
        text-decoration: none;
      }
      
      /* å“åº”å¼è®¾è®¡ */
      @media (max-width: 768px) {
        .md-content__inner {
          padding: 1rem;
        }
        
        .md-content__inner h1 {
          font-size: 2rem;
        }
        
        .md-content__inner h2 {
          font-size: 1.2rem;
          padding: 0.8rem 1rem;
        }
        
        .md-content__inner pre {
          padding: 1rem;
          font-size: 0.9rem;
        }
        
        .lgoj-home-btn {
          position: static;
          margin: 1rem 0;
          width: 100%;
          justify-content: center;
        }
      }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github.min.css">
  </head>
  <body>
    <!-- ç®€æ´çš„é¡µé¢å¤´éƒ¨ -->
    <header class="lgoj-header">
      <div class="container">
        <a href="/" class="logo">
          <i class="fas fa-book"></i>
          LGOJ é¢˜ç›®æµè§ˆç«™
        </a>
        <nav>
          <a href="/">é¦–é¡µ</a>
          <a href="/problem/list">é¢˜åº“</a>
          <a href="/about">å…³äº</a>
        </nav>
      </div>
    </header>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <main class="main-content">
      <div class="container">
        <div class="problem-content">
          <h2 id="_1">é¢˜ç›®æè¿°</h2>
<p>Today is a rainy day! Farmer John's N (1 &lt;= N &lt;= 5,000) cows, numbered 1..N, are not particularly fond of getting wet. The cows are standing in roofless stalls arranged on a number line. The stalls span X-coordinates from 1 to M (1 &lt;= M &lt;= 100,000). Cow i stands at a stall on coordinate X_i (1 &lt;= X_i &lt;= M). No two cows share stalls.</p>
<p>In order to protect the cows from the rain, Farmer John wants to buy them umbrellas. An umbrella that spans coordinates X_i to X_j (X_i &lt;= X_j) has a width of X_j - X_i + 1. It costs C_W (1 &lt;= C_W &lt;= 1,000,000) to buy an umbrella of width W.  Larger umbrellas do not necessarily cost more than smaller umbrellas.</p>
<p>Help Farmer John find the minimum cost it takes to purchase a set of umbrellas that will protect every cow from the rain.  Note that the set of umbrellas in an optimal solution might overlap to some extent.</p>
<p>åœ¨ X æ•°è½´ä¸Šæœ‰ M ä¸ªæ•´æ•°ç‚¹ï¼Œç‚¹çš„åæ ‡åˆ†åˆ«æ˜¯ 1 è‡³ Mã€‚æœ‰ Nï¼ˆ1&lt;= N&lt;= 5000ï¼‰åªå¥¶ç‰›ï¼Œç¼–å·ä¸º 1.. Nï¼Œç¬¬ i åªå¥¶ç‰›æ‰€åœ¨çš„æ•´æ•°ç‚¹åæ ‡æ˜¯ Xiï¼ˆ1&lt;= Xi &lt;= M &lt;= 100,000ï¼‰, æ²¡æœ‰ä¸¤å¤´å¥¶ç‰›åœ¨ç›¸åŒçš„ç‚¹ä¸Šã€‚ç°åœ¨æ­£åœ¨ä¸‹é›¨ï¼Œä¸ºäº†ä¿æŠ¤å¥¶ç‰›ï¼ŒFJ éœ€è¦è´­ä¹°å¾ˆå¤šæŠŠé›¨ä¼ï¼ŒæŠŠæ‰€æœ‰çš„å¥¶ç‰›éƒ½é®ä½ã€‚å¦‚æœä¸€æŠŠé›¨ä¼èƒ½é®ä½åæ ‡æ˜¯ a åˆ°åæ ‡æ˜¯ b çš„è¿™ä¸€æ®µï¼ˆa&lt;=bï¼‰ï¼Œé‚£ä¹ˆè¿™æŠŠé›¨ä¼çš„å®½åº¦å°±æ˜¯ b-a+1ã€‚ç°åœ¨æˆ‘ä»¬ç»™å‡ºè´­ä¹°å®½åº¦æ˜¯ 1 çš„é›¨ä¼çš„ä»·æ ¼ï¼Œè´­ä¹°å®½åº¦æ˜¯ 2 çš„é›¨ä¼çš„ä»·æ ¼ï¼Œâ€¦è´­ä¹°å®½åº¦æ˜¯ M çš„é›¨ä¼çš„ä»·æ ¼ã€‚</p>
<p>è¿™é‡Œç‰¹åˆ«éœ€è¦æ³¨æ„ï¼šå®½åº¦æ›´å¤§çš„é›¨ä¼çš„ä»·æ ¼ä¸ä¸€å®šè¶…è¿‡å®½åº¦è¾ƒå°çš„é›¨ä¼ï¼Œè¿™å®Œå…¨å–å†³äºè¯»å…¥æ•°æ®ã€‚ä½ çš„ä»»åŠ¡æ˜¯å¸®åŠ© FJ æ‰¾åˆ°è´­ä¹°é›¨ä¼æœ€ä½çš„æˆæœ¬ï¼Œä½¿å¾—è¿™äº›é›¨ä¼èƒ½æŠŠæ‰€æœ‰çš„å¥¶ç‰›é®ä½ï¼Œä»è€Œä¸æ·‹é›¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯æœ€ä½³çš„è§£å†³æ–¹æ¡ˆé›¨ä¼å¯èƒ½ä¼šé‡å ã€‚</p>
<h2 id="_2">è¾“å…¥æ ¼å¼</h2>
<p>* Line 1: Two space-separated integers: N and M.</p>
<p>* Lines 2..N+1: Line i+1 contains a single integer: X_i.</p>
<p>* Lines N+2..N+M+1: Line N+j+1 contains a single integer: C_j.</p>
<p>ç¬¬ 1 è¡Œï¼šä¸¤ä¸ªç©ºé—´åˆ†éš”çš„æ•´æ•°ï¼šN å’Œ Mã€‚</p>
<p>ä¸‹æ¥æœ‰ N è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼šXiï¼Œè¡¨ç¤ºç¬¬ i å¤´å¥¶ç‰›æ‰€åœ¨çš„ç‚¹çš„åæ ‡å€¼ã€‚</p>
<p>æ¥ä¸‹æ¥æœ‰ M è¡Œï¼šæ¯è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° Ciï¼Œè¡¨ç¤ºè´­ä¹°å®½åº¦æ˜¯ i çš„é›¨ä¼çš„ä»·æ ¼æ˜¯ Ci å…ƒã€‚</p>
<h2 id="_3">è¾“å‡ºæ ¼å¼</h2>
<p>* Line 1: A single integer that is the minimum cost needed to purchase umbrellas for all the cows.</p>
<p>ä¸€ä¸ªæ•´æ•°ï¼Œæ˜¯æœ€ä½çš„æˆæœ¬ã€‚</p>
<h2 id="_4">è¾“å…¥è¾“å‡ºæ ·ä¾‹</h2>
<h3 id="1">æ ·ä¾‹ #1</h3>
<h4 id="1_1">æ ·ä¾‹è¾“å…¥ #1</h4>
<div class="codehilite"><pre><span></span><code><span class="mf">6</span><span class="w"> </span><span class="mf">12</span><span class="w"> </span>
<span class="mf">1</span><span class="w"> </span>
<span class="mf">2</span><span class="w"> </span>
<span class="mf">11</span><span class="w"> </span>
<span class="mf">8</span><span class="w"> </span>
<span class="mf">4</span><span class="w"> </span>
<span class="mf">12</span><span class="w"> </span>
<span class="mf">2</span><span class="w"> </span>
<span class="mf">3</span><span class="w"> </span>
<span class="mf">4</span><span class="w"> </span>
<span class="mf">4</span><span class="w"> </span>
<span class="mf">8</span><span class="w"> </span>
<span class="mf">9</span><span class="w"> </span>
<span class="mf">15</span><span class="w"> </span>
<span class="mf">16</span><span class="w"> </span>
<span class="mf">17</span><span class="w"> </span>
<span class="mf">18</span><span class="w"> </span>
<span class="mf">19</span><span class="w"> </span>
<span class="mf">19</span>
</code></pre></div>

<h4 id="1_2">æ ·ä¾‹è¾“å‡º #1</h4>
<div class="codehilite"><pre><span></span><code><span class="mf">9</span>
</code></pre></div>

<h2 id="_5">è¯´æ˜/æç¤º</h2>
<p>There are 12 stalls, and stalls 1, 2, 4, 8, 11, and 12 contain cows. An umbrella covering one stall costs 2, an umbrella covering two stalls costs 3, and so on.</p>
<p>By purchasing a size 4 umbrella, a size 1 umbrella, and a size 2 umbrella, it is possible to cover all the cows at a cost of 4+2+3=9:</p>
<p>UUUUUUUUUU           U        UUUU</p>
<p>C  C     C           C        C  C</p>
<p>|--|--|--|--|--|--|--|--|--|--|--| 
1  2  3  4  5  6  7  8  9  10 11 12</p>
<p>C represents a cow and U represents a part of an umbrella.</p>
<p>1ã€ ä¹°ä¸€æŠŠé•¿åº¦æ˜¯ 4 çš„é›¨ä¼å»é®ä½åæ ‡åœ¨ 1ã€2ã€4 çš„ä¸‰å¤´å¥¶ç‰›ï¼Œè´¹ç”¨æ˜¯ 4ï¼›</p>
<p>2ã€ ä¹°ä¸€æŠŠé•¿åº¦æ˜¯ 1 çš„é›¨ä¼é®ä½åæ ‡åœ¨ 8 çš„å¥¶ç‰›ï¼Œè´¹ç”¨æ˜¯ 2ï¼›</p>
<p>3ã€ ä¹°ä¸€æŠŠé•¿åº¦æ˜¯ 2 çš„é›¨ä¼é®ä½åæ ‡åœ¨ 11ã€12 çš„ä¸¤å¤´å¥¶ç‰›ï¼Œè´¹ç”¨æ˜¯ 3ã€‚</p>
<p>æ€»è´¹ç”¨æ˜¯ 4 +2+ 3 = 9ã€‚</p>
        </div>
        
        <!-- è¯„è®ºåŒºåŸŸ -->
        <div class="comments-section">
          <div class="comments-title">
            ğŸ’¬ è®¨è®ºäº¤æµ
          </div>
          <script src="https://giscus.app/client.js"
                  data-repo="Eternity-Sky/luogu-problem-reader"
                  data-repo-id="R_kgDOPiP5uw"
                  data-category="Announcements"
                  data-category-id="DIC_kwDOPiP5u84CugHo"
                  data-mapping="url"
                  data-strict="0"
                  data-reactions-enabled="1"
                  data-emit-metadata="0"
                  data-input-position="bottom"
                  data-theme="light"
                  data-lang="zh-CN"
                  crossorigin="anonymous"
                  async>
          </script>
        </div>
      </div>
    </main>

    <!-- é¡µè„š -->
    <footer class="lgoj-footer">
      <div class="container">
        <p>Â© 2024 LGOJ é¢˜ç›®æµè§ˆç«™ | æ´›è°·é¢˜ç›®é™æ€æµè§ˆå¹³å°</p>
      </div>
    </footer>

    <!-- è¿”å›é¦–é¡µæŒ‰é’® -->
    <a href="/" class="return-home-btn">
      <i class="fas fa-home"></i>
      è¿”å›é¦–é¡µ
    </a>

    <!-- JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      if (typeof hljs !== 'undefined') {
        hljs.highlightAll();
      }
    </script>
    <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
    <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false},
            {left: '\\(', right: '\\)', display: false},
            {left: '\\[', right: '\\]', display: true}
          ],
          throwOnError: false
        });
      });
    </script>
  </body>
</html>
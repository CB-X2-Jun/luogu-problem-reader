<!doctype html>
<html lang="zh" class="no-js">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="æ´›è°·é¢˜ç›®æµè§ˆç«™é¢˜ç›®è¯¦æƒ…">
    <meta name="author" content="CB_X2_Jun">
    <link rel="canonical" href="https://lglg.netlify.app/problem/P3259/">
    <link rel="icon" href="../../assets/images/favicon.png">
    <meta name="generator" content="mkdocs-material">
    <title>P3259 [JLOI2014] è·¯å¾„è§„åˆ’</title>
    <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
    <style>
      :root { --md-text-font: "Roboto"; --md-code-font: "Roboto Mono" }
      
      /* ç¾åŒ–é¢˜ç›®é¡µé¢æ ·å¼ */
      .md-content__inner {
        max-width: 1000px;
        margin: 0 auto;
      }
      
      /* é¢˜ç›®æ ‡é¢˜ç¾åŒ– */
      .md-content__inner h1 {
        color: #2c3e50;
        font-size: 2.5rem;
        font-weight: bold;
        margin-bottom: 2rem;
        text-align: center;
        padding: 1rem 0;
        border-bottom: 3px solid #3498db;
      }
      
      /* é¢˜ç›®å†…å®¹åŒºå—ç¾åŒ– */
      .md-content__inner h2 {
        background: #f8f9fa;
        color: #2c3e50;
        padding: 1rem 1.5rem;
        border-radius: 8px;
        border-left: 4px solid #3498db;
        margin: 2rem 0 1rem 0;
        font-size: 1.3rem;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        font-weight: 600;
      }
      
      /* ä»£ç å—ç¾åŒ– */
      .md-content__inner pre {
        background: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 8px;
        padding: 1.5rem;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        margin: 1.5rem 0;
      }
      
      .md-content__inner pre code {
        background: transparent;
        color: #2c3e50;
        padding: 0;
        border-radius: 0;
        font-weight: 400;
      }
      
      .md-content__inner code {
        background: #e9ecef;
        color: #495057;
        padding: 0.2rem 0.5rem;
        border-radius: 4px;
        font-weight: 500;
      }
      
      /* æ ·ä¾‹åŒºå—ç‰¹æ®Šç¾åŒ– */
      .md-content__inner h3:contains("æ ·ä¾‹") {
        background: #f0f8ff;
        color: #2c3e50;
        padding: 0.8rem 1.2rem;
        border-radius: 6px;
        border-left: 4px solid #17a2b8;
        margin: 1.5rem 0 0.8rem 0;
        font-size: 1.1rem;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        font-weight: 600;
      }
      
      /* æ™®é€šæ®µè½ç¾åŒ– */
      .md-content__inner p {
        line-height: 1.8;
        margin: 1rem 0;
        color: #444;
      }
      
      /* åˆ—è¡¨ç¾åŒ– */
      .md-content__inner ul, .md-content__inner ol {
        padding-left: 2rem;
        margin: 1rem 0;
      }
      
      .md-content__inner li {
        margin: 0.5rem 0;
        line-height: 1.6;
      }
      
      /* è¡¨æ ¼ç¾åŒ– */
      .md-content__inner table {
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        margin: 1.5rem 0;
      }
      
      .md-content__inner th {
        background: #e9ecef;
        color: #495057;
        font-weight: 600;
      }
      
      /* è¿”å›æŒ‰é’®ç¾åŒ– */
      .back-button {
        display: inline-block;
        background: #3498db;
        color: white;
        padding: 0.8rem 1.5rem;
        border-radius: 8px;
        text-decoration: none;
        font-weight: bold;
        margin: 2rem 0;
        transition: background-color 0.3s;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      
      .back-button:hover {
        background: #2980b9;
        transform: translateY(-1px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        color: white;
        text-decoration: none;
      }
      
      /* Giscusè¯„è®ºåŒºåŸŸæ ·å¼ */
      .comments-section {
        margin: 3rem 0 2rem 0;
        padding: 2rem;
        background: #f8f9fa;
        border-radius: 12px;
        border: 1px solid #e9ecef;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      }
      
      .comments-title {
        color: #2c3e50;
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 1.5rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid #3498db;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      
      /* è‡ªå®šä¹‰Giscusæ ·å¼ */
      .giscus {
        margin-top: 1rem;
      }
      
      .giscus-frame {
        border-radius: 8px;
        border: 1px solid #e9ecef;
      }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github.min.css">
  </head>
  <body dir="ltr">
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      <a href="#é¢˜ç›®å†…å®¹" class="md-skip">è·³è½¬è‡³</a>
    </div>
    <div data-md-component="announce"></div>
    
    <div id="__config" data-md-config="{&quot;base&quot;:&quot;../..&quot;,&quot;features&quot;:[],&quot;search&quot;:{&quot;worker&quot;:&quot;assets/javascripts/workers/search.b8dbb3d2.min.js&quot;}}"></div>
    
    <header class="md-header md-header--shadow" data-md-component="header">
      <nav class="md-header__inner md-grid" aria-label="é¡µçœ‰">
        <a href="/" title="æ´›è°·é¢˜ç›®æµè§ˆç«™" class="md-header__button md-logo" aria-label="æ´›è°·é¢˜ç›®æµè§ˆç«™" data-md-component="logo">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>
        </a>
        <label class="md-header__button md-icon" for="__drawer">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
        </label>
        <div class="md-header__title" data-md-component="header-title">
          <div class="md-header__ellipsis">
            <div class="md-header__topic">
              <span class="md-ellipsis">æ´›è°·é¢˜ç›®æµè§ˆç«™</span>
            </div>
            <div class="md-header__topic" data-md-component="header-topic">
              <span class="md-ellipsis">P3259 [JLOI2014] è·¯å¾„è§„åˆ’</span>
            </div>
          </div>
        </div>
      </nav>
    </header>
    <div class="md-container" data-md-component="container">
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          <!-- ä¾§è¾¹æ å¯¼èˆª -->
          <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" aria-label="å¯¼èˆªæ " data-md-level="0">
                  <label class="md-nav__title" for="__drawer">
                    <a href="/" title="æ´›è°·é¢˜ç›®æµè§ˆç«™" class="md-nav__button md-logo" aria-label="æ´›è°·é¢˜ç›®æµè§ˆç«™" data-md-component="logo">
                      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>
                    </a>
                    æ´›è°·é¢˜ç›®æµè§ˆç«™
                  </label>
                  <ul class="md-nav__list" data-md-scrollfix>
                    <li class="md-nav__item">
                      <a href="/" class="md-nav__link">
                        <span class="md-ellipsis">ğŸ  é¦–é¡µ</span>
                      </a>
                    </li>
                    <li class="md-nav__item">
                      <a href="/problem/list/" class="md-nav__link">
                        <span class="md-ellipsis">ğŸ“‹ é¢˜ç›®åˆ—è¡¨</span>
                      </a>
                    </li>
                    <li class="md-nav__item">
                      <a href="/about/" class="md-nav__link">
                        <span class="md-ellipsis">â„¹ï¸ å…³äº</span>
                      </a>
                    </li>
                  </ul>
                </nav>
              </div>
            </div>
          </div>
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              <h2 id="_1">é¢˜ç›®æè¿°</h2>
<p>ç›¸ä¿¡å¤§å®¶éƒ½ç”¨è¿‡åœ°å›¾ä¸Šçš„è·¯å¾„è§„åˆ’åŠŸèƒ½ï¼Œåªè¦è¾“å…¥èµ·ç‚¹ç»ˆç‚¹å°±èƒ½æ‰¾å‡ºä¸€æ¡æœ€ä¼˜è·¯çº¿ã€‚ç°åœ¨å‘Šè¯‰ä½ ä¸€å¼ åœ°å›¾çš„ä¿¡æ¯ï¼Œè¯·ä½ æ‰¾å‡ºæœ€ä¼˜è·¯å¾„ï¼ˆå³æœ€çŸ­è·¯å¾„ï¼‰ã€‚è€ƒè™‘åˆ°å®é™…æƒ…å†µï¼Œä¸€è¾†è½¦åŠ æ»¡æ²¹èƒ½å¼€çš„æ—¶é—´æœ‰é™ï¼Œ<strong>ä¸º $limit$</strong>ï¼Œæ‰€ä»¥åœ¨åœ°å›¾ä¸Šå¢åŠ äº†å‡ ä¸ªåŠ æ²¹ç«™ã€‚</p>
<p>åœ°å›¾ç”±ç‚¹å’ŒåŒå‘è¾¹æ„æˆï¼Œæ¯ä¸ªç‚¹ä»£è¡¨ä¸€ä¸ªè·¯å£ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯åŠ æ²¹ç«™æˆ–èµ·ç‚¹ç»ˆç‚¹ã€‚æœ‰äº›è·¯å£è¿˜è£…æœ‰çº¢ç»¿ç¯ã€‚ç”±äºç»è¿‡å¤ªå¤šçš„çº¢ç»¿ç¯ä¼šè®©äººæ„Ÿåˆ°ä¸çˆ½ï¼Œæ‰€ä»¥è¯·æ±‚åœ¨ç»è¿‡ä¸è¶…è¿‡ $k$ ä¸ªçº¢ç»¿ç¯çš„æƒ…å†µä¸‹ï¼Œæœ€å°‘å¹³å‡èŠ±è´¹å¤šå°‘æ—¶é—´èƒ½ä»èµ·ç‚¹åˆ°ç»ˆç‚¹ã€‚ä¿è¯èµ·ç‚¹ç»ˆç‚¹å’ŒåŠ æ²¹ç«™æ²¡æœ‰çº¢ç»¿ç¯ã€‚ï¼ˆé¢˜ç›®ä¸è€ƒè™‘æœ€åæƒ…å†µä¸‹èƒ½å¦åŠ åˆ°æ²¹ï¼Œåªè€ƒè™‘å¹³å‡èŠ±è´¹æ—¶é—´çš„å‰æä¸‹ï¼Œè½¦èƒ½å¦åˆ°è¾¾åŠ æ²¹ç«™åŠ æ²¹ï¼‰ã€‚</p>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>$limit$ æŒ‡çš„æ˜¯è½¦æœ€å¤šèƒ½èµ°å¤šé•¿æ—¶é—´ï¼Œå¯ä»¥çœ‹ä½œè½¦çš„æ²¹ç®±ï¼Œæ˜¯ä¸èƒ½å åŠ çš„ï¼ˆæ¯”å¦‚ä¸èƒ½è¿ç»­ç»è¿‡å¤šä¸ªåŠ æ²¹ç«™åå‰©ä½™èƒ½èµ°çš„æ—¶é—´ $&gt;limit$ï¼‰ã€‚</li>
<li>ä¸ä¸Šé¢ç±»ä¼¼ï¼Œä¸€ä¸ªåŠ æ²¹ç«™æœ€å¤šåªèƒ½åŠ åˆ° $limit$ï¼Œä¸èƒ½ç´¯åŠ ã€‚</li>
<li>ä¸ç®¡åœ¨åŠ æ²¹ç«™åŠ å¤šå°‘æ²¹ï¼Œåæ­£åŠ ä¸€æ¬¡è€—è´¹çš„æ—¶é—´éƒ½æ˜¯ $cost$ã€‚</li>
<li>ç»è¿‡åŠ æ²¹ç«™å¯ä»¥ä¸åŠ æ²¹ã€‚</li>
</ol>
<h2 id="_2">è¾“å…¥æ ¼å¼</h2>
<p>ç¬¬ä¸€è¡Œè¾“å…¥ $5$ ä¸ªæ•´æ•° $n,m,k,limit,cost$ï¼Œè¡¨ç¤ºæœ‰ $n$ ä¸ªç‚¹ $m$ æ¡è¾¹ï¼Œè½¦èƒ½å¼€ $limit$ é•¿çš„æ—¶é—´ï¼ŒåŠåŠ æ²¹æ‰€èŠ±æ—¶é—´ $cost$ã€‚</p>
<p>æ¥ä¸‹æ¥ $n$ è¡Œè¾“å…¥æ¯ä¸ªç‚¹ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç‚¹çš„åç§°ï¼ˆå¸¦ <code>gas</code> çš„ä¸ºåŠ æ²¹ç«™ï¼Œ<code>start</code> ä¸ºèµ·ç‚¹ï¼Œ<code>end</code> ä¸ºç»ˆç‚¹ï¼‰ï¼ŒåŠè¯¥ç‚¹æ˜¯å¦æœ‰çº¢ç»¿ç¯ï¼Œç”¨ $a,b$ è¡¨ç¤ºã€‚ï¼ˆè‹¥ä¸º $a=0$ åˆ™è¡¨ç¤ºæ²¡æœ‰ï¼Œ$a$ è¡¨ç¤ºçº¢ç¯é•¿ï¼Œ$b$ è¡¨ç¤ºç»¿ç¯é•¿ï¼‰ã€‚</p>
<p>æ¥ä¸‹æ¥ $m$ è¡Œè¾“å…¥æ¯æ¡è¾¹ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¾¹çš„èµ·ç‚¹ï¼Œç»ˆç‚¹ï¼Œè¾¹çš„åç§°ï¼Œé€šè¿‡è¯¥è¾¹æ‰€èŠ±æ—¶é•¿ã€‚</p>
<p>ä¿è¯ç‚¹å’Œè¾¹åçš„é•¿åº¦ä¸å¤§äº $20$ï¼Œåªæœ‰å¤§å°å†™å­—æ¯ï¼Œæ•°å­—åŠ <code>_</code> ç»„æˆã€‚</p>
<h2 id="_3">è¾“å‡ºæ ¼å¼</h2>
<p>ä¸€è¡Œè¾“å‡ºæœ€å°‘å¹³å‡èŠ±è´¹æ—¶é•¿ã€‚</p>
<h2 id="_4">è¾“å…¥è¾“å‡ºæ ·ä¾‹</h2>
<h3 id="1">æ ·ä¾‹ #1</h3>
<h4 id="1_1">æ ·ä¾‹è¾“å…¥ #1</h4>
<pre class="codehilite"><code>5 8 1 100 10
start 0 0
azhan 10 10
xxgasxx 0 5
bpoint 20 5
end 0 100
start azhan sdf 30
azhan xxgasxx ewfg 20
start end r3tg 200
end azhan 1xq2 70
azhan bpoint gg 10
xxgasxx bpoint kk 30
bpoint end dsg 40
xxgasxx end t_s 100
</code></pre>

<h4 id="1_2">æ ·ä¾‹è¾“å‡º #1</h4>
<pre class="codehilite"><code>162.500
</code></pre>

<h2 id="_5">è¯´æ˜/æç¤º</h2>
<p>å…± $14$ ç»„æ•°æ®ã€‚</p>
<ul>
<li>å…¶ä¸­ $3$ ç»„æ•°æ®ï¼Œæ»¡è¶³ $1 \le n&lt;10$ï¼Œ$1 \le m&lt;20$ï¼Œ$1 \le k&lt;5$ã€‚</li>
<li>å¦æœ‰ $3$ ç»„æ²¡æœ‰çº¢ç»¿ç¯ã€‚</li>
</ul>
<p>æ‰€æœ‰æ•°æ®æ»¡è¶³ $1 \le n \le 10000$ï¼Œ$1 \le m \le 20000$ï¼Œ$1 \le k \le 10$ï¼ŒåŠ æ²¹ç«™ $\le 50$ã€‚</p>
              
              <!-- Giscusè¯„è®ºç³»ç»Ÿ -->
              <div class="comments-section">
                <div class="comments-title">
                  ğŸ’¬ è®¨è®ºäº¤æµ
                </div>
                <script src="https://giscus.app/client.js"
                        data-repo="Eternity-Sky/luogu-problem-reader"
                        data-repo-id="R_kgDOPiP5uw"
                        data-category="Announcements"
                        data-category-id="DIC_kwDOPiP5u84CugHo"
                        data-mapping="url"
                        data-strict="0"
                        data-reactions-enabled="1"
                        data-emit-metadata="0"
                        data-input-position="bottom"
                        data-theme="preferred_color_scheme"
                        data-lang="zh-CN"
                        data-loading="lazy"
                        crossorigin="anonymous"
                        async>
                </script>
              </div>
            </article>
          </div>
        </div>
      </main>
      <footer class="md-footer">
        <div class="md-footer-meta md-typeset">
          <div class="md-footer-meta__inner md-grid">
            <div class="md-copyright">
              <div class="md-copyright__highlight">Â© 2025 æ´›è°·é¢˜ç›®æµè§ˆç«™</div>
              Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">Material for MkDocs</a>
            </div>
          </div>
        </div>
      </footer>
    </div>
    <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      if (typeof hljs !== 'undefined') {
        hljs.highlightAll();
      }
    </script>
    <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
    <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, { 
          delimiters: [
            {"left":"$$","right":"$$","display":true},
            {"left":"$","right":"$","display":false},
            {"left":"\\(","right":"\\)","display":false},
            {"left":"\\[","right":"\\]","display":true}
          ],
          throwOnError: false,
          strict: false,
          trust: true
        });
      });
    </script>
  </body>
</html>